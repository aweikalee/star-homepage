function t(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function i(t){if(x(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=i(_(r)?o(r):r);if(s)for(const t in s)e[t]=s[t]}return e}if(A(t))return t}const r=/;(?![^(]*\))/g,s=/:(.+)/;function o(t){const e={};return t.split(r).forEach((t=>{if(t){const n=t.split(s);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function a(t){let e="";if(_(t))e=t;else if(x(t))for(let n=0;n<t.length;n++)e+=a(t[n])+" ";else if(A(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const l={},u=[],c=()=>{},h=()=>!1,d=/^on[^a-z]/,p=t=>d.test(t),f=t=>t.startsWith("onUpdate:"),m=Object.assign,g=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},v=Object.prototype.hasOwnProperty,y=(t,e)=>v.call(t,e),x=Array.isArray,b=t=>"[object Map]"===T(t),w=t=>"function"==typeof t,_=t=>"string"==typeof t,E=t=>"symbol"==typeof t,A=t=>null!==t&&"object"==typeof t,C=t=>A(t)&&w(t.then)&&w(t.catch),M=Object.prototype.toString,T=t=>M.call(t),F=t=>_(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,S=t("key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),I=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},R=/-(\w)/g,O=I((t=>t.replace(R,((t,e)=>e?e.toUpperCase():"")))),D=/\B([A-Z])/g,P=I((t=>t.replace(D,"-$1").toLowerCase())),L=I((t=>t.charAt(0).toUpperCase()+t.slice(1))),N=(t,e)=>t!==e&&(t==t||e==e),k=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},U=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},z=new WeakMap,B=[];let V;const Z=Symbol(""),q=Symbol("");function G(t,e=l){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!B.includes(n)){H(n);try{return Y.push(X),X=!0,B.push(n),V=n,t()}finally{B.pop(),K(),V=B[B.length-1]}}};return n.id=j++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function W(t){t.active&&(H(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let j=0;function H(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let X=!0;const Y=[];function $(){Y.push(X),X=!1}function K(){const t=Y.pop();X=void 0===t||t}function Q(t,e,n){if(!X||void 0===V)return;let i=z.get(t);i||z.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=new Set),r.has(V)||(r.add(V),V.deps.push(r))}function J(t,e,n,i,r,s){const o=z.get(t);if(!o)return;const a=new Set,l=t=>{t&&t.forEach((t=>{(t!==V||t.allowRecurse)&&a.add(t)}))};if("clear"===e)o.forEach(l);else if("length"===n&&x(t))o.forEach(((t,e)=>{("length"===e||e>=i)&&l(t)}));else switch(void 0!==n&&l(o.get(n)),e){case"add":x(t)?F(n)&&l(o.get("length")):(l(o.get(Z)),b(t)&&l(o.get(q)));break;case"delete":x(t)||(l(o.get(Z)),b(t)&&l(o.get(q)));break;case"set":b(t)&&l(o.get(Z))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const tt=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(E)),et=ot(),nt=ot(!1,!0),it=ot(!0),rt=ot(!0,!0),st={};function ot(t=!1,e=!1){return function(n,i,r){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_raw"===i&&r===(t?Dt:Ot).get(n))return n;const s=x(n);if(s&&y(st,i))return Reflect.get(st,i,r);const o=Reflect.get(n,i,r);if(E(i)?tt.has(i):"__proto__"===i||"__v_isRef"===i)return o;if(t||Q(n,0,i),e)return o;if(qt(o)){return!s||!F(i)?o.value:o}return A(o)?t?Nt(o):Lt(o):o}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];st[t]=function(...t){const n=Vt(this);for(let e=0,r=this.length;e<r;e++)Q(n,0,e+"");const i=e.apply(n,t);return-1===i||!1===i?e.apply(n,t.map(Vt)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];st[t]=function(...t){$();const n=e.apply(this,t);return K(),n}}));function at(t=!1){return function(e,n,i,r){const s=e[n];if(!t&&(i=Vt(i),!x(e)&&qt(s)&&!qt(i)))return s.value=i,!0;const o=x(e)&&F(n)?Number(n)<e.length:y(e,n),a=Reflect.set(e,n,i,r);return e===Vt(r)&&(o?N(i,s)&&J(e,"set",n,i):J(e,"add",n,i)),a}}const lt={get:et,set:at(),deleteProperty:function(t,e){const n=y(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&J(t,"delete",e,void 0),i},has:function(t,e){const n=Reflect.has(t,e);return E(e)&&tt.has(e)||Q(t,0,e),n},ownKeys:function(t){return Q(t,0,Z),Reflect.ownKeys(t)}},ut={get:it,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},ct=m({},lt,{get:nt,set:at(!0)});m({},ut,{get:rt});const ht=t=>A(t)?Lt(t):t,dt=t=>A(t)?Nt(t):t,pt=t=>t,ft=t=>Reflect.getPrototypeOf(t);function mt(t,e,n=!1,i=!1){const r=Vt(t=t.__v_raw),s=Vt(e);e!==s&&!n&&Q(r,0,e),!n&&Q(r,0,s);const{has:o}=ft(r),a=n?dt:i?pt:ht;return o.call(r,e)?a(t.get(e)):o.call(r,s)?a(t.get(s)):void 0}function gt(t,e=!1){const n=this.__v_raw,i=Vt(n),r=Vt(t);return t!==r&&!e&&Q(i,0,t),!e&&Q(i,0,r),t===r?n.has(t):n.has(t)||n.has(r)}function vt(t,e=!1){return t=t.__v_raw,!e&&Q(Vt(t),0,Z),Reflect.get(t,"size",t)}function yt(t){t=Vt(t);const e=Vt(this),n=ft(e).has.call(e,t),i=e.add(t);return n||J(e,"add",t,t),i}function xt(t,e){e=Vt(e);const n=Vt(this),{has:i,get:r}=ft(n);let s=i.call(n,t);s||(t=Vt(t),s=i.call(n,t));const o=r.call(n,t),a=n.set(t,e);return s?N(e,o)&&J(n,"set",t,e):J(n,"add",t,e),a}function bt(t){const e=Vt(this),{has:n,get:i}=ft(e);let r=n.call(e,t);r||(t=Vt(t),r=n.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return r&&J(e,"delete",t,void 0),s}function wt(){const t=Vt(this),e=0!==t.size,n=t.clear();return e&&J(t,"clear",void 0,void 0),n}function _t(t,e){return function(n,i){const r=this,s=r.__v_raw,o=Vt(s),a=t?dt:e?pt:ht;return!t&&Q(o,0,Z),s.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}}function Et(t,e,n){return function(...i){const r=this.__v_raw,s=Vt(r),o=b(s),a="entries"===t||t===Symbol.iterator&&o,l="keys"===t&&o,u=r[t](...i),c=e?dt:n?pt:ht;return!e&&Q(s,0,l?q:Z),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:a?[c(t[0]),c(t[1])]:c(t),done:e}},[Symbol.iterator](){return this}}}}function At(t){return function(...e){return"delete"!==t&&this}}const Ct={get(t){return mt(this,t)},get size(){return vt(this)},has:gt,add:yt,set:xt,delete:bt,clear:wt,forEach:_t(!1,!1)},Mt={get(t){return mt(this,t,!1,!0)},get size(){return vt(this)},has:gt,add:yt,set:xt,delete:bt,clear:wt,forEach:_t(!1,!0)},Tt={get(t){return mt(this,t,!0)},get size(){return vt(this,!0)},has(t){return gt.call(this,t,!0)},add:At("add"),set:At("set"),delete:At("delete"),clear:At("clear"),forEach:_t(!0,!1)};function Ft(t,e){const n=e?Mt:t?Tt:Ct;return(e,i,r)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(y(n,i)&&i in e?n:e,i,r)}["keys","values","entries",Symbol.iterator].forEach((t=>{Ct[t]=Et(t,!1,!1),Tt[t]=Et(t,!0,!1),Mt[t]=Et(t,!1,!0)}));const St={get:Ft(!1,!1)},It={get:Ft(!1,!0)},Rt={get:Ft(!0,!1)},Ot=new WeakMap,Dt=new WeakMap;function Pt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>T(t).slice(8,-1))(t))}function Lt(t){return t&&t.__v_isReadonly?t:kt(t,!1,lt,St)}function Nt(t){return kt(t,!0,ut,Rt)}function kt(t,e,n,i){if(!A(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const r=e?Dt:Ot,s=r.get(t);if(s)return s;const o=Pt(t);if(0===o)return t;const a=new Proxy(t,2===o?i:n);return r.set(t,a),a}function Ut(t){return zt(t)?Ut(t.__v_raw):!(!t||!t.__v_isReactive)}function zt(t){return!(!t||!t.__v_isReadonly)}function Bt(t){return Ut(t)||zt(t)}function Vt(t){return t&&Vt(t.__v_raw)||t}const Zt=t=>A(t)?Lt(t):t;function qt(t){return Boolean(t&&!0===t.__v_isRef)}function Gt(t){return function(t,e=!1){if(qt(t))return t;return new Wt(t,e)}(t)}class Wt{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Zt(t)}get value(){return Q(Vt(this),0,"value"),this._value}set value(t){N(Vt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Zt(t),J(Vt(this),"set","value",t))}}const jt={get:(t,e,n)=>{return qt(i=Reflect.get(t,e,n))?i.value:i;var i},set:(t,e,n,i)=>{const r=t[e];return qt(r)&&!qt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};class Ht{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=G(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,J(Vt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),Q(Vt(this),0,"value"),this._value}set value(t){this._setter(t)}}function Xt(t,e,n,i){let r;try{r=i?t(...i):t()}catch(s){$t(s,e,n)}return r}function Yt(t,e,n,i){if(w(t)){const r=Xt(t,e,n,i);return r&&C(r)&&r.catch((t=>{$t(t,e,n)})),r}const r=[];for(let s=0;s<t.length;s++)r.push(Yt(t[s],e,n,i));return r}function $t(t,e,n,i=!0){e&&e.vnode;if(e){let i=e.parent;const r=e.proxy,s=n;for(;i;){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,s))return;i=i.parent}const o=e.appContext.config.errorHandler;if(o)return void Xt(o,null,10,[t,r,s])}!function(t,e,n,i=!0){console.error(t)}(t,0,0,i)}let Kt=!1,Qt=!1;const Jt=[];let te=0;const ee=[];let ne=null,ie=0;const re=[];let se=null,oe=0;const ae=Promise.resolve();let le=null,ue=null;function ce(t){const e=le||ae;return t?e.then(this?t.bind(this):t):e}function he(t){Jt.length&&Jt.includes(t,Kt&&t.allowRecurse?te+1:te)||t===ue||(Jt.push(t),de())}function de(){Kt||Qt||(Qt=!0,le=ae.then(ve))}function pe(t,e,n,i){x(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),de()}function fe(t,e=null){if(ee.length){for(ue=e,ne=[...new Set(ee)],ee.length=0,ie=0;ie<ne.length;ie++)ne[ie]();ne=null,ie=0,ue=null,fe(t,e)}}function me(t){if(re.length){const t=[...new Set(re)];if(re.length=0,se)return void se.push(...t);for(se=t,se.sort(((t,e)=>ge(t)-ge(e))),oe=0;oe<se.length;oe++)se[oe]();se=null,oe=0}}const ge=t=>null==t.id?1/0:t.id;function ve(t){Qt=!1,Kt=!0,fe(t),Jt.sort(((t,e)=>ge(t)-ge(e)));try{for(te=0;te<Jt.length;te++){const t=Jt[te];t&&Xt(t,null,14)}}finally{te=0,Jt.length=0,me(),Kt=!1,le=null,(Jt.length||re.length)&&ve(t)}}function ye(t,e,...n){const i=t.vnode.props||l;let r=`on${L(O(e))}`,s=i[r];if(!s&&e.startsWith("update:")&&(r=`on${L(P(e))}`,s=i[r]),!s)if(s=i[r+"Once"],t.emitted){if(t.emitted[r])return}else(t.emitted={})[r]=!0;s&&Yt(s,t,6,n)}function xe(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const i=t.emits;let r={},s=!1;if(!w(t)){const i=t=>{s=!0,m(r,xe(t,e,!0))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return i||s?(x(i)?i.forEach((t=>r[t]=null)):m(r,i),t.__emits=r):t.__emits=null}function be(t,e){return!(!t||!p(e))&&(e=e.replace(/Once$/,""),y(t,e[2].toLowerCase()+e.slice(3))||y(t,e.slice(2)))}let we=null;function _e(t){we=t}function Ee(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:h,data:d,setupState:p,ctx:m}=t;let g;we=t;try{let t;if(4&n.shapeFlag){const e=r||i;g=Hn(c.call(e,e,h,s,p,d,m)),t=l}else{const n=e;0,g=Hn(n.length>1?n(s,{attrs:l,slots:a,emit:u}):n(s,null)),t=e.props?l:Ce(l)}let v=g;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=v;e.length&&(1&n||6&n)&&(o&&e.some(f)&&(t=Me(t,o)),v=Wn(v,t))}n.dirs&&(v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),g=v}catch(v){$t(v,t,1),g=Gn(Ln)}return we=null,g}function Ae(t){const e=t.filter((t=>!(zn(t)&&t.type===Ln&&"v-if"!==t.children)));return 1===e.length&&zn(e[0])?e[0]:null}const Ce=t=>{let e;for(const n in t)("class"===n||"style"===n||p(n))&&((e||(e={}))[n]=t[n]);return e},Me=(t,e)=>{const n={};for(const i in t)f(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function Te(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!be(n,s))return!0}return!1}function Fe(t){if(w(t)&&(t=t()),x(t)){t=Ae(t)}return Hn(t)}let Se=0;const Ie=t=>Se+=t;function Re(t,e=we){if(!e)return t;const n=(...n)=>{Se||function(t=!1){kn.push(Un=t?null:[])}(!0);const i=we;_e(e);const r=t(...n);return _e(i),Se||(kn.pop(),Un=kn[kn.length-1]||null),r};return n._c=!0,n}function Oe(t,e,n,i=!1){const r={},s={};U(s,Vn,1),De(t,e,r,s),n?t.props=i?r:kt(r,!1,ct,It):t.type.props?t.props=r:t.props=s,t.attrs=s}function De(t,e,n,i){const[r,s]=t.propsOptions;if(e)for(const o in e){const s=e[o];if(S(o))continue;let a;r&&y(r,a=O(o))?n[a]=s:be(t.emitsOptions,o)||(i[o]=s)}if(s){const e=Vt(n);for(let i=0;i<s.length;i++){const o=s[i];n[o]=Pe(r,e,o,e[o],t)}}}function Pe(t,e,n,i,r){const s=t[n];if(null!=s){const t=y(s,"default");if(t&&void 0===i){const t=s.default;s.type!==Function&&w(t)?(mi(r),i=t(e),mi(null)):i=t}s[0]&&(y(e,n)||t?!s[1]||""!==i&&i!==P(n)||(i=!0):i=!1)}return i}function Le(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const i=t.props,r={},s=[];let o=!1;if(!w(t)){const i=t=>{o=!0;const[n,i]=Le(t,e,!0);m(r,n),i&&s.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!i&&!o)return t.__props=u;if(x(i))for(let a=0;a<i.length;a++){const t=O(i[a]);Ne(t)&&(r[t]=l)}else if(i)for(const a in i){const t=O(a);if(Ne(t)){const e=i[a],n=r[t]=x(e)||w(e)?{type:e}:e;if(n){const e=ze(Boolean,n.type),i=ze(String,n.type);n[0]=e>-1,n[1]=i<0||e<i,(e>-1||y(n,"default"))&&s.push(t)}}}return t.__props=[r,s]}function Ne(t){return"$"!==t[0]}function ke(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ue(t,e){return ke(t)===ke(e)}function ze(t,e){if(x(e)){for(let n=0,i=e.length;n<i;n++)if(Ue(e[n],t))return n}else if(w(e))return Ue(e,t)?0:-1;return-1}function Be(t,e,n=pi,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;$(),mi(n);const r=Yt(e,n,t,i);return mi(null),K(),r});return i?r.unshift(s):r.push(s),s}}const Ve=t=>(e,n=pi)=>!gi&&Be(t,e,n),Ze=Ve("bm"),qe=Ve("m"),Ge=Ve("bu"),We=Ve("u"),je=Ve("bum"),He=Ve("um"),Xe=Ve("rtg"),Ye=Ve("rtc"),$e={};function Ke(t,e,n){return Qe(t,e,n)}function Qe(t,e,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:o}=l,a=pi){let u,h,d=!1;if(qt(t)?(u=()=>t.value,d=!!t._shallow):Ut(t)?(u=()=>t,i=!0):u=x(t)?()=>t.map((t=>qt(t)?t.value:Ut(t)?tn(t):w(t)?Xt(t,a,2):void 0)):w(t)?e?()=>Xt(t,a,2):()=>{if(!a||!a.isUnmounted)return h&&h(),Xt(t,a,3,[p])}:c,e&&i){const t=u;u=()=>tn(t())}const p=t=>{h=y.options.onStop=()=>{Xt(t,a,4)}};let f=x(t)?[]:$e;const m=()=>{if(y.active)if(e){const t=y();(i||d||N(t,f))&&(h&&h(),Yt(e,a,3,[t,f===$e?void 0:f,p]),f=t)}else y()};let v;m.allowRecurse=!!e,v="sync"===r?m:"post"===r?()=>En(m,a&&a.suspense):()=>{!a||a.isMounted?function(t){pe(t,ne,ee,ie)}(m):m()};const y=G(u,{lazy:!0,onTrack:s,onTrigger:o,scheduler:v});return xi(y),e?n?m():f=y():"post"===r?En(y,a&&a.suspense):y(),()=>{W(y),a&&g(a.effects,y)}}function Je(t,e,n){const i=this.proxy;return Qe(_(t)?()=>i[t]:t.bind(i),e.bind(i),n,this)}function tn(t,e=new Set){if(!A(t)||e.has(t))return t;if(e.add(t),qt(t))tn(t.value,e);else if(x(t))for(let n=0;n<t.length;n++)tn(t[n],e);else if("[object Set]"===T(t)||b(t))t.forEach((t=>{tn(t,e)}));else for(const n in t)tn(t[n],e);return t}const en=[Function,Array],nn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:en,onEnter:en,onAfterEnter:en,onEnterCancelled:en,onBeforeLeave:en,onLeave:en,onAfterLeave:en,onLeaveCancelled:en,onBeforeAppear:en,onAppear:en,onAfterAppear:en,onAppearCancelled:en},setup(t,{slots:e}){const n=fi(),i=function(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qe((()=>{t.isMounted=!0})),je((()=>{t.isUnmounting=!0})),t}();let r;return()=>{const s=e.default&&un(e.default(),!0);if(!s||!s.length)return;const o=Vt(t),{mode:a}=o,l=s[0];if(i.isLeaving)return on(l);const u=an(l);if(!u)return on(l);const c=sn(u,o,i,n);ln(u,c);const h=n.subTree,d=h&&an(h);let p=!1;const{getTransitionKey:f}=u.type;if(f){const t=f();void 0===r?r=t:t!==r&&(r=t,p=!0)}if(d&&d.type!==Ln&&(!Bn(u,d)||p)){const t=sn(d,o,i,n);if(ln(d,t),"out-in"===a)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,n.update()},on(l);"in-out"===a&&(t.delayLeave=(t,e,n)=>{rn(i,d)[String(d.key)]=d,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=n})}return l}}};function rn(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function sn(t,e,n,i){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:g,onAfterAppear:v,onAppearCancelled:y}=e,x=String(t.key),b=rn(n,t),w=(t,e)=>{t&&Yt(t,i,9,e)},_={mode:s,persisted:o,beforeEnter(e){let i=a;if(!n.isMounted){if(!r)return;i=m||a}e._leaveCb&&e._leaveCb(!0);const s=b[x];s&&Bn(t,s)&&s.el._leaveCb&&s.el._leaveCb(),w(i,[e])},enter(t){let e=l,i=u,s=c;if(!n.isMounted){if(!r)return;e=g||l,i=v||u,s=y||c}let o=!1;const a=t._enterCb=e=>{o||(o=!0,w(e?s:i,[t]),_.delayedLeave&&_.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,i){const r=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();w(h,[e]);let s=!1;const o=e._leaveCb=n=>{s||(s=!0,i(),w(n?f:p,[e]),e._leaveCb=void 0,b[r]===t&&delete b[r])};b[r]=t,d?(d(e,o),d.length<=1&&o()):o()},clone:t=>sn(t,e,n,i)};return _}function on(t){if(cn(t))return(t=Wn(t)).children=null,t}function an(t){return cn(t)?t.children?t.children[0]:void 0:t}function ln(t,e){6&t.shapeFlag&&t.component?ln(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function un(t,e=!1){let n=[],i=0;for(let r=0;r<t.length;r++){const s=t[r];s.type===Dn?(128&s.patchFlag&&i++,n=n.concat(un(s.children,e))):(e||s.type!==Ln)&&n.push(s)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}const cn=t=>t.type.__isKeepAlive;function hn(t,e,n=pi){const i=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(Be(e,i,n),n){let t=n.parent;for(;t&&t.parent;)cn(t.parent.vnode)&&dn(i,e,n,t),t=t.parent}}function dn(t,e,n,i){const r=Be(e,t,i,!0);He((()=>{g(i[e],r)}),n)}const pn=t=>"_"===t[0]||"$stable"===t,fn=t=>x(t)?t.map(Hn):[Hn(t)],mn=(t,e,n)=>Re((t=>fn(e(t))),n),gn=(t,e)=>{const n=t._ctx;for(const i in t){if(pn(i))continue;const r=t[i];if(w(r))e[i]=mn(0,r,n);else if(null!=r){const t=fn(r);e[i]=()=>t}}},vn=(t,e)=>{const n=fn(e);t.slots.default=()=>n};function yn(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);const l=a.dir[i];l&&Yt(l,n,8,[t.el,a,t,e])}}function xn(){return{app:null,config:{isNativeTag:h,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:h,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let bn=0;function wn(t,e){return function(n,i=null){null==i||A(i)||(i=null);const r=xn(),s=new Set;let o=!1;const a=r.app={_uid:bn++,_component:n,_props:i,_container:null,_context:r,version:_i,get config(){return r.config},set config(t){},use:(t,...e)=>(s.has(t)||(t&&w(t.install)?(s.add(t),t.install(a,...e)):w(t)&&(s.add(t),t(a,...e))),a),mixin:t=>(r.mixins.includes(t)||(r.mixins.push(t),(t.props||t.emits)&&(r.deopt=!0)),a),component:(t,e)=>e?(r.components[t]=e,a):r.components[t],directive:(t,e)=>e?(r.directives[t]=e,a):r.directives[t],mount(s,l){if(!o){const u=Gn(n,i);return u.appContext=r,l&&e?e(u,s):t(u,s),o=!0,a._container=s,s.__vue_app__=a,u.component.proxy}},unmount(){o&&t(null,a._container)},provide:(t,e)=>(r.provides[t]=e,a)};return a}}const _n={scheduler:he,allowRecurse:!0},En=function(t,e){e&&e.pendingBranch?x(t)?e.effects.push(...t):e.effects.push(t):pe(t,se,re,oe)},An=(t,e,n,i,r)=>{if(x(t))return void t.forEach(((t,s)=>An(t,e&&(x(e)?e[s]:e),n,i,r)));let s;s=r?4&r.shapeFlag?r.component.proxy:r.el:null;const{i:o,r:a}=t,u=e&&e.r,c=o.refs===l?o.refs={}:o.refs,h=o.setupState;if(null!=u&&u!==a&&(_(u)?(c[u]=null,y(h,u)&&(h[u]=null)):qt(u)&&(u.value=null)),_(a)){const t=()=>{c[a]=s,y(h,a)&&(h[a]=s)};s?(t.id=-1,En(t,i)):t()}else if(qt(a)){const t=()=>{a.value=s};s?(t.id=-1,En(t,i)):t()}else w(a)&&Xt(a,n,12,[s,c])};function Cn(t){return function(t,e){const{insert:n,remove:i,patchProp:r,forcePatchProp:s,createElement:o,createText:a,createComment:h,setText:d,setElementText:p,parentNode:f,nextSibling:g,setScopeId:v=c,cloneNode:x,insertStaticContent:b}=t,w=(t,e,n,i=null,r=null,s=null,o=!1,a=!1)=>{t&&!Bn(t,e)&&(i=rt(t),Q(t,r,s,!0),t=null),-2===e.patchFlag&&(a=!1,e.dynamicChildren=null);const{type:l,ref:u,shapeFlag:c}=e;switch(l){case Pn:_(t,e,n,i);break;case Ln:E(t,e,n,i);break;case Nn:null==t&&A(e,n,i,o);break;case Dn:N(t,e,n,i,r,s,o,a);break;default:1&c?M(t,e,n,i,r,s,o,a):6&c?z(t,e,n,i,r,s,o,a):(64&c||128&c)&&l.process(t,e,n,i,r,s,o,a,ot)}null!=u&&r&&An(u,t&&t.ref,r,s,e)},_=(t,e,i,r)=>{if(null==t)n(e.el=a(e.children),i,r);else{const n=e.el=t.el;e.children!==t.children&&d(n,e.children)}},E=(t,e,i,r)=>{null==t?n(e.el=h(e.children||""),i,r):e.el=t.el},A=(t,e,n,i)=>{[t.el,t.anchor]=b(t.children,e,n,i)},M=(t,e,n,i,r,s,o,a)=>{o=o||"svg"===e.type,null==t?T(e,n,i,r,s,o,a):R(t,e,r,s,o,a)},T=(t,e,i,s,a,l,u)=>{let c,h;const{type:d,props:f,shapeFlag:m,transition:g,scopeId:v,patchFlag:y,dirs:b}=t;if(t.el&&void 0!==x&&-1===y)c=t.el=x(t.el);else{if(c=t.el=o(t.type,l,f&&f.is),8&m?p(c,t.children):16&m&&I(t.children,c,null,s,a,l&&"foreignObject"!==d,u||!!t.dynamicChildren),b&&yn(t,null,s,"created"),f){for(const e in f)S(e)||r(c,e,null,f[e],l,t.children,s,a,it);(h=f.onVnodeBeforeMount)&&Mn(h,s,t)}F(c,v,t,s)}b&&yn(t,null,s,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&g&&!g.persisted;w&&g.beforeEnter(c),n(c,e,i),((h=f&&f.onVnodeMounted)||w||b)&&En((()=>{h&&Mn(h,s,t),w&&g.enter(c),b&&yn(t,null,s,"mounted")}),a)},F=(t,e,n,i)=>{if(e&&v(t,e),i){const r=i.type.__scopeId;r&&r!==e&&v(t,r+"-s"),n===i.subTree&&F(t,i.vnode.scopeId,i.vnode,i.parent)}},I=(t,e,n,i,r,s,o,a=0)=>{for(let l=a;l<t.length;l++){const a=t[l]=o?Xn(t[l]):Hn(t[l]);w(null,a,e,n,i,r,s,o)}},R=(t,e,n,i,o,a)=>{const u=e.el=t.el;let{patchFlag:c,dynamicChildren:h,dirs:d}=e;c|=16&t.patchFlag;const f=t.props||l,m=e.props||l;let g;if((g=m.onVnodeBeforeUpdate)&&Mn(g,n,e,t),d&&yn(e,t,n,"beforeUpdate"),c>0){if(16&c)L(u,e,f,m,n,i,o);else if(2&c&&f.class!==m.class&&r(u,"class",null,m.class,o),4&c&&r(u,"style",f.style,m.style,o),8&c){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const l=a[e],c=f[l],h=m[l];(h!==c||s&&s(u,l))&&r(u,l,c,h,o,t.children,n,i,it)}}1&c&&t.children!==e.children&&p(u,e.children)}else a||null!=h||L(u,e,f,m,n,i,o);const v=o&&"foreignObject"!==e.type;h?D(t.dynamicChildren,h,u,n,i,v):a||j(t,e,u,null,n,i,v),((g=m.onVnodeUpdated)||d)&&En((()=>{g&&Mn(g,n,e,t),d&&yn(e,t,n,"updated")}),i)},D=(t,e,n,i,r,s)=>{for(let o=0;o<e.length;o++){const a=t[o],l=e[o],u=a.type===Dn||!Bn(a,l)||6&a.shapeFlag||64&a.shapeFlag?f(a.el):n;w(a,l,u,null,i,r,s,!0)}},L=(t,e,n,i,o,a,u)=>{if(n!==i){for(const l in i){if(S(l))continue;const c=i[l],h=n[l];(c!==h||s&&s(t,l))&&r(t,l,h,c,u,e.children,o,a,it)}if(n!==l)for(const s in n)S(s)||s in i||r(t,s,n[s],null,u,e.children,o,a,it)}},N=(t,e,i,r,s,o,l,u)=>{const c=e.el=t?t.el:a(""),h=e.anchor=t?t.anchor:a("");let{patchFlag:d,dynamicChildren:p}=e;d>0&&(u=!0),null==t?(n(c,i,r),n(h,i,r),I(e.children,i,h,s,o,l,u)):d>0&&64&d&&p?(D(t.dynamicChildren,p,i,s,o,l),(null!=e.key||s&&e===s.subTree)&&Tn(t,e,!0)):j(t,e,i,h,s,o,l,u)},z=(t,e,n,i,r,s,o,a)=>{null==t?512&e.shapeFlag?r.ctx.activate(e,n,i,o,a):B(e,n,i,r,s,o,a):V(t,e,a)},B=(t,e,n,i,r,s,o)=>{const a=t.component=function(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||hi,s={uid:di++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,update:null,render:null,proxy:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Le(i,r),emitsOptions:xe(i,r),emit:null,emitted:null,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=ye.bind(null,s),s}(t,i,r);if(cn(t)&&(a.ctx.renderer=ot),function(t,e=!1){gi=e;const{props:n,children:i,shapeFlag:r}=t.vnode,s=4&r;Oe(t,n,s,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,U(e,"_",n)):gn(e,t.slots={})}else t.slots={},e&&vn(t,e);U(t.slots,Vn,1)})(t,i);const o=s?function(t,e){const n=t.type;t.accessCache={},t.proxy=new Proxy(t.ctx,ui);const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?function(t){return{attrs:t.attrs,slots:t.slots,emit:t.emit}}(t):null;pi=t,$();const r=Xt(i,t,0,[t.props,n]);if(K(),pi=null,C(r)){if(e)return r.then((e=>{vi(t,e)}));t.asyncDep=r}else vi(t,r)}else yi(t)}(t,e):void 0;gi=!1}(a),a.asyncDep){if(r&&r.registerDep(a,Z),!t.el){const t=a.subTree=Gn(Ln);E(null,t,e,n)}}else Z(a,t,e,n,r,s,o)},V=(t,e,n)=>{const i=e.component=t.component;if(function(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>0))return!(!r&&!a||a&&a.$stable)||i!==o&&(i?!o||Te(i,o,u):!!o);if(1024&l)return!0;if(16&l)return i?Te(i,o,u):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==i[n]&&!be(u,n))return!0}}return!1}(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void q(i,e,n);i.next=e,function(t){const e=Jt.indexOf(t);e>-1&&(Jt[e]=null)}(i.update),i.update()}else e.component=t.component,e.el=t.el,i.vnode=e},Z=(t,e,n,i,r,s,o)=>{t.update=G((function(){if(t.isMounted){let e,{next:n,bu:i,u:a,parent:l,vnode:u}=t,c=n;n?(n.el=u.el,q(t,n,o)):n=u,i&&k(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Mn(e,l,n,u);const h=Ee(t),d=t.subTree;t.subTree=h,w(d,h,f(d.el),rt(d),t,r,s),n.el=h.el,null===c&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,h.el),a&&En(a,r),(e=n.props&&n.props.onVnodeUpdated)&&En((()=>{Mn(e,l,n,u)}),r)}else{let o;const{el:a,props:l}=e,{bm:u,m:c,parent:h}=t;u&&k(u),(o=l&&l.onVnodeBeforeMount)&&Mn(o,h,e);const d=t.subTree=Ee(t);a&&lt?lt(e.el,d,t,r):(w(null,d,n,i,t,r,s),e.el=d.el),c&&En(c,r),(o=l&&l.onVnodeMounted)&&En((()=>{Mn(o,h,e)}),r);const{a:p}=t;p&&256&e.shapeFlag&&En(p,r),t.isMounted=!0}}),_n)},q=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=Vt(r),[u]=t.propsOptions;if(!(i||o>0)||16&o){let i;De(t,e,r,s);for(const s in a)e&&(y(e,s)||(i=P(s))!==s&&y(e,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(r[s]=Pe(u,e||l,s,void 0,t)):delete r[s]);if(s!==a)for(const t in s)e&&y(e,t)||delete s[t]}else if(8&o){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){const o=n[i],l=e[o];if(u)if(y(s,o))s[o]=l;else{const e=O(o);r[e]=Pe(u,a,e,l,t)}else s[o]=l}}J(t,"set","$attrs")}(t,e.props,i,n),((t,e)=>{const{vnode:n,slots:i}=t;let r=!0,s=l;if(32&n.shapeFlag){const t=e._;t?1===t?r=!1:m(i,e):(r=!e.$stable,gn(e,i)),s=e}else e&&(vn(t,e),s={default:1});if(r)for(const o in i)pn(o)||o in s||delete i[o]})(t,e.children),fe(void 0,t.update)},j=(t,e,n,i,r,s,o,a=!1)=>{const l=t&&t.children,u=t?t.shapeFlag:0,c=e.children,{patchFlag:h,shapeFlag:d}=e;if(h>0){if(128&h)return void X(l,c,n,i,r,s,o,a);if(256&h)return void H(l,c,n,i,r,s,o,a)}8&d?(16&u&&it(l,r,s),c!==l&&p(n,c)):16&u?16&d?X(l,c,n,i,r,s,o,a):it(l,r,s,!0):(8&u&&p(n,""),16&d&&I(c,n,i,r,s,o,a))},H=(t,e,n,i,r,s,o,a)=>{e=e||u;const l=(t=t||u).length,c=e.length,h=Math.min(l,c);let d;for(d=0;d<h;d++){const i=e[d]=a?Xn(e[d]):Hn(e[d]);w(t[d],i,n,null,r,s,o,a)}l>c?it(t,r,s,!0,!1,h):I(e,n,i,r,s,o,a,h)},X=(t,e,n,i,r,s,o,a)=>{let l=0;const c=e.length;let h=t.length-1,d=c-1;for(;l<=h&&l<=d;){const i=t[l],u=e[l]=a?Xn(e[l]):Hn(e[l]);if(!Bn(i,u))break;w(i,u,n,null,r,s,o,a),l++}for(;l<=h&&l<=d;){const i=t[h],l=e[d]=a?Xn(e[d]):Hn(e[d]);if(!Bn(i,l))break;w(i,l,n,null,r,s,o,a),h--,d--}if(l>h){if(l<=d){const t=d+1,u=t<c?e[t].el:i;for(;l<=d;)w(null,e[l]=a?Xn(e[l]):Hn(e[l]),n,u,r,s,o),l++}}else if(l>d)for(;l<=h;)Q(t[l],r,s,!0),l++;else{const p=l,f=l,m=new Map;for(l=f;l<=d;l++){const t=e[l]=a?Xn(e[l]):Hn(e[l]);null!=t.key&&m.set(t.key,l)}let g,v=0;const y=d-f+1;let x=!1,b=0;const _=new Array(y);for(l=0;l<y;l++)_[l]=0;for(l=p;l<=h;l++){const i=t[l];if(v>=y){Q(i,r,s,!0);continue}let u;if(null!=i.key)u=m.get(i.key);else for(g=f;g<=d;g++)if(0===_[g-f]&&Bn(i,e[g])){u=g;break}void 0===u?Q(i,r,s,!0):(_[u-f]=l+1,u>=b?b=u:x=!0,w(i,e[u],n,null,r,s,o,a),v++)}const E=x?function(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(r=n[n.length-1],t[r]<l){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=(s+o)/2|0,t[n[a]]<l?s=a+1:o=a;l<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}s=n.length,o=n[s-1];for(;s-- >0;)n[s]=o,o=e[o];return n}(_):u;for(g=E.length-1,l=y-1;l>=0;l--){const t=f+l,a=e[t],u=t+1<c?e[t+1].el:i;0===_[l]?w(null,a,n,u,r,s,o):x&&(g<0||l!==E[g]?Y(a,n,u,2):g--)}}},Y=(t,e,i,r,s=null)=>{const{el:o,type:a,transition:l,children:u,shapeFlag:c}=t;if(6&c)return void Y(t.component.subTree,e,i,r);if(128&c)return void t.suspense.move(e,i,r);if(64&c)return void a.move(t,e,i,ot);if(a===Dn){n(o,e,i);for(let t=0;t<u.length;t++)Y(u[t],e,i,r);return void n(t.anchor,e,i)}if(2!==r&&1&c&&l)if(0===r)l.beforeEnter(o),n(o,e,i),En((()=>l.enter(o)),s);else{const{leave:t,delayLeave:r,afterLeave:s}=l,a=()=>n(o,e,i),u=()=>{t(o,(()=>{a(),s&&s()}))};r?r(o,a,u):u()}else n(o,e,i)},Q=(t,e,n,i=!1,r=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:h,dirs:d}=t;if(null!=a&&e&&An(a,null,e,n,null),256&c)return void e.ctx.deactivate(t);const p=1&c&&d;let f;if((f=o&&o.onVnodeBeforeUnmount)&&Mn(f,e,t),6&c)nt(t.component,n,i);else{if(128&c)return void t.suspense.unmount(n,i);p&&yn(t,null,e,"beforeUnmount"),u&&(s!==Dn||h>0&&64&h)?it(u,e,n,!1,!0):!r&&16&c&&it(l,e,n),64&c&&(i||!Fn(t.props))&&t.type.remove(t,ot),i&&tt(t)}((f=o&&o.onVnodeUnmounted)||p)&&En((()=>{f&&Mn(f,e,t),p&&yn(t,null,e,"unmounted")}),n)},tt=t=>{const{type:e,el:n,anchor:r,transition:s}=t;if(e===Dn)return void et(n,r);const o=()=>{i(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&t.shapeFlag&&s&&!s.persisted){const{leave:e,delayLeave:i}=s,r=()=>e(n,o);i?i(t.el,o,r):r()}else o()},et=(t,e)=>{let n;for(;t!==e;)n=g(t),i(t),t=n;i(e)},nt=(t,e,n)=>{const{bum:i,effects:r,update:s,subTree:o,um:a}=t;if(i&&k(i),r)for(let l=0;l<r.length;l++)W(r[l]);s&&(W(s),Q(o,t,e,n)),a&&En(a,e),En((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},it=(t,e,n,i=!1,r=!1,s=0)=>{for(let o=s;o<t.length;o++)Q(t[o],e,n,i,r)},rt=t=>6&t.shapeFlag?rt(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el),st=(t,e)=>{null==t?e._vnode&&Q(e._vnode,null,null,!0):w(e._vnode||null,t,e),me(),e._vnode=t},ot={p:w,um:Q,m:Y,r:tt,mt:B,mc:I,pc:j,pbc:D,n:rt,o:t};let at,lt;e&&([at,lt]=e(ot));return{render:st,hydrate:at,createApp:wn(st,at)}}(t)}function Mn(t,e,n,i=null){Yt(t,e,7,[n,i])}function Tn(t,e,n=!1){const i=t.children,r=e.children;if(x(i)&&x(r))for(let s=0;s<i.length;s++){const t=i[s];let e=r[s];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[s]=Xn(r[s]),e.el=t.el),n||Tn(t,e))}}const Fn=t=>t&&(t.disabled||""===t.disabled),Sn=(t,e)=>{const n=t&&t.to;if(_(n)){if(e){return e(n)}return null}return n};function In(t,e,n,{o:{insert:i},m:r},s=2){0===s&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=2===s;if(h&&i(o,e,n),(!h||Fn(c))&&16&l)for(let d=0;d<u.length;d++)r(u[d],e,n,2);h&&i(a,e,n)}const Rn={__isTeleport:!0,process(t,e,n,i,r,s,o,a,l){const{mc:u,pc:c,pbc:h,o:{insert:d,querySelector:p,createText:f,createComment:m}}=l,g=Fn(e.props),{shapeFlag:v,children:y}=e;if(null==t){const t=e.el=f(""),l=e.anchor=f("");d(t,n,i),d(l,n,i);const c=e.target=Sn(e.props,p),h=e.targetAnchor=f("");c&&d(h,c);const m=(t,e)=>{16&v&&u(y,t,e,r,s,o,a)};g?m(n,l):c&&m(c,h)}else{e.el=t.el;const i=e.anchor=t.anchor,u=e.target=t.target,d=e.targetAnchor=t.targetAnchor,f=Fn(t.props),m=f?n:u,v=f?i:d;if(e.dynamicChildren?(h(t.dynamicChildren,e.dynamicChildren,m,r,s,o),Tn(t,e,!0)):a||c(t,e,m,v,r,s,o),g)f||In(e,n,i,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Sn(e.props,p);t&&In(e,t,null,l,0)}else f&&In(e,u,d,l,1)}},remove(t,{r:e,o:{remove:n}}){const{shapeFlag:i,children:r,anchor:s}=t;if(n(s),16&i)for(let o=0;o<r.length;o++)e(r[o])},move:In,hydrate:function(t,e,n,i,r,{o:{nextSibling:s,parentNode:o,querySelector:a}},l){const u=e.target=Sn(e.props,a);if(u){const a=u._lpa||u.firstChild;16&e.shapeFlag&&(Fn(e.props)?(e.anchor=l(s(t),e,o(t),n,i,r),e.targetAnchor=a):(e.anchor=s(t),e.targetAnchor=l(a,e,u,n,i,r)),u._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}},On=Symbol(),Dn=Symbol(void 0),Pn=Symbol(void 0),Ln=Symbol(void 0),Nn=Symbol(void 0),kn=[];let Un=null;function zn(t){return!!t&&!0===t.__v_isVNode}function Bn(t,e){return t.type===e.type&&t.key===e.key}const Vn="__vInternal",Zn=({key:t})=>null!=t?t:null,qn=({ref:t})=>null!=t?x(t)?t:{i:we,r:t}:null,Gn=function(t,e=null,n=null,r=0,s=null,o=!1){t&&t!==On||(t=Ln);if(zn(t)){const i=Wn(t,e,!0);return n&&Yn(i,n),i}l=t,w(l)&&"__vccOpts"in l&&(t=t.__vccOpts);var l;if(e){(Bt(e)||Vn in e)&&(e=m({},e));let{class:t,style:n}=e;t&&!_(t)&&(e.class=a(t)),A(n)&&(Bt(n)&&!x(n)&&(n=m({},n)),e.style=i(n))}const u=_(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:A(t)?4:w(t)?2:0,c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zn(e),ref:e&&qn(e),scopeId:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};if(Yn(c,n),128&u){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let i,r;return 32&e?(i=Fe(n.default),r=Fe(n.fallback)):(i=Fe(n),r=Hn(null)),{content:i,fallback:r}}(c);c.ssContent=t,c.ssFallback=e}!o&&Un&&(r>0||6&u)&&32!==r&&Un.push(c);return c};function Wn(t,e,n=!1){const{props:i,ref:r,patchFlag:s}=t,o=e?$n(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&Zn(o),ref:e&&e.ref?n&&r?x(r)?r.concat(qn(e)):[r,qn(e)]:qn(e):r,scopeId:t.scopeId,children:t.children,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Dn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wn(t.ssContent),ssFallback:t.ssFallback&&Wn(t.ssFallback),el:t.el,anchor:t.anchor}}function jn(t=" ",e=0){return Gn(Pn,null,t,e)}function Hn(t){return null==t||"boolean"==typeof t?Gn(Ln):x(t)?Gn(Dn,null,t):"object"==typeof t?null===t.el?t:Wn(t):Gn(Pn,null,String(t))}function Xn(t){return null===t.el?t:Wn(t)}function Yn(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(x(e))n=16;else if("object"==typeof e){if(1&i||64&i){const n=e.default;return void(n&&(n._c&&Ie(1),Yn(t,n()),n._c&&Ie(-1)))}{n=32;const i=e._;i||Vn in e?3===i&&we&&(1024&we.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=we}}else w(e)?(e={default:e,_ctx:we},n=32):(e=String(e),64&i?(n=16,e=[jn(e)]):n=8);t.children=e,t.shapeFlag|=n}function $n(...t){const e=m({},t[0]);for(let n=1;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=a([e.class,r.class]));else if("style"===t)e.style=i([e.style,r.style]);else if(p(t)){const n=e[t],i=r[t];n!==i&&(e[t]=n?[].concat(n,r[t]):i)}else e[t]=r[t]}return e}function Kn(t,e){if(pi){let n=pi.provides;const i=pi.parent&&pi.parent.provides;i===n&&(n=pi.provides=Object.create(i)),n[t]=e}else;}function Qn(t,e,n=!1){const i=pi||we;if(i){const r=i.provides;if(t in r)return r[t];if(arguments.length>1)return n&&w(e)?e():e}}let Jn=!1;function ti(t,e,n=[],i=[],r=[],s=!1){const{mixins:o,extends:a,data:l,computed:u,methods:h,watch:d,provide:p,inject:f,components:g,directives:v,beforeMount:y,mounted:b,beforeUpdate:_,updated:E,activated:C,deactivated:M,beforeDestroy:T,beforeUnmount:F,destroyed:S,unmounted:I,render:R,renderTracked:O,renderTriggered:D,errorCaptured:P}=e,L=t.proxy,N=t.ctx,k=t.appContext.mixins;if(s&&R&&t.render===c&&(t.render=R),s||(Jn=!0,ei("beforeCreate","bc",e,t,k),Jn=!1,ri(t,k,n,i,r)),a&&ti(t,a,n,i,r,!0),o&&ri(t,o,n,i,r),f)if(x(f))for(let c=0;c<f.length;c++){const t=f[c];N[t]=Qn(t)}else for(const c in f){const t=f[c];A(t)?N[c]=Qn(t.from||c,t.default,!0):N[c]=Qn(t)}if(h)for(const c in h){const t=h[c];w(t)&&(N[c]=t.bind(L))}if(s?l&&n.push(l):(n.length&&n.forEach((e=>si(t,e,L))),l&&si(t,l,L)),u)for(const m in u){const t=u[m],e=bi({get:w(t)?t.bind(L,L):w(t.get)?t.get.bind(L,L):c,set:!w(t)&&w(t.set)?t.set.bind(L):c});Object.defineProperty(N,m,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}var U;d&&i.push(d),!s&&i.length&&i.forEach((t=>{for(const e in t)oi(t[e],N,L,e)})),p&&r.push(p),!s&&r.length&&r.forEach((t=>{const e=w(t)?t.call(L):t;for(const n in e)Kn(n,e[n])})),s&&(g&&m(t.components||(t.components=m({},t.type.components)),g),v&&m(t.directives||(t.directives=m({},t.type.directives)),v)),s||ei("created","c",e,t,k),y&&Ze(y.bind(L)),b&&qe(b.bind(L)),_&&Ge(_.bind(L)),E&&We(E.bind(L)),C&&hn(C.bind(L),"a",U),M&&function(t,e){hn(t,"da",e)}(M.bind(L)),P&&((t,e=pi)=>{Be("ec",t,e)})(P.bind(L)),O&&Ye(O.bind(L)),D&&Xe(D.bind(L)),F&&je(F.bind(L)),I&&He(I.bind(L))}function ei(t,e,n,i,r){ii(t,e,r,i);const{extends:s,mixins:o}=n;s&&ni(t,e,s,i),o&&ii(t,e,o,i);const a=n[t];a&&Yt(a.bind(i.proxy),i,e)}function ni(t,e,n,i){n.extends&&ni(t,e,n.extends,i);const r=n[t];r&&Yt(r.bind(i.proxy),i,e)}function ii(t,e,n,i){for(let r=0;r<n.length;r++){const s=n[r].mixins;s&&ii(t,e,s,i);const o=n[r][t];o&&Yt(o.bind(i.proxy),i,e)}}function ri(t,e,n,i,r){for(let s=0;s<e.length;s++)ti(t,e[s],n,i,r,!0)}function si(t,e,n){const i=e.call(n,n);A(i)&&(t.data===l?t.data=Lt(i):m(t.data,i))}function oi(t,e,n,i){const r=i.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,i):()=>n[i];if(_(t)){const n=e[t];w(n)&&Ke(r,n)}else if(w(t))Ke(r,t.bind(n));else if(A(t))if(x(t))t.forEach((t=>oi(t,e,n,i)));else{const i=w(t.handler)?t.handler.bind(n):e[t.handler];w(i)&&Ke(r,i,t)}}function ai(t,e,n){const i=n.appContext.config.optionMergeStrategies,{mixins:r,extends:s}=e;s&&ai(t,s,n),r&&r.forEach((e=>ai(t,e,n)));for(const o in e)i&&y(i,o)?t[o]=i[o](t[o],e[o],n.proxy,o):t[o]=e[o]}const li=m(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>t.parent&&t.parent.proxy,$root:t=>t.root&&t.root.proxy,$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:i,extends:r}=e;if(n)return n;const s=t.appContext.mixins;if(!s.length&&!i&&!r)return e;const o={};return s.forEach((e=>ai(o,e,t))),ai(o,e,t),e.__merged=o}(t),$forceUpdate:t=>()=>he(t.update),$nextTick:t=>ce.bind(t.proxy),$watch:t=>Je.bind(t)}),ui={get({_:t},e){const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=o[e];if(void 0!==a)switch(a){case 0:return i[e];case 1:return r[e];case 3:return n[e];case 2:return s[e]}else{if(i!==l&&y(i,e))return o[e]=0,i[e];if(r!==l&&y(r,e))return o[e]=1,r[e];if((c=t.propsOptions[0])&&y(c,e))return o[e]=2,s[e];if(n!==l&&y(n,e))return o[e]=3,n[e];Jn||(o[e]=4)}}const h=li[e];let d,p;return h?("$attrs"===e&&Q(t,0,e),h(t)):(d=a.__cssModules)&&(d=d[e])?d:n!==l&&y(n,e)?(o[e]=3,n[e]):(p=u.config.globalProperties,y(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;if(r!==l&&y(r,e))r[e]=n;else if(i!==l&&y(i,e))i[e]=n;else if(e in t.props)return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return void 0!==n[o]||t!==l&&y(t,o)||e!==l&&y(e,o)||(a=s[0])&&y(a,o)||y(i,o)||y(li,o)||y(r.config.globalProperties,o)}},ci=m({},ui,{get(t,e){if(e!==Symbol.unscopables)return ui.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),hi=xn();let di=0;let pi=null;const fi=()=>pi||we,mi=t=>{pi=t};let gi=!1;function vi(t,e,n){var i;w(e)?t.render=e:A(e)&&(t.setupState=Ut(i=e)?i:new Proxy(i,jt)),yi(t)}function yi(t,e){const n=t.type;t.render||(t.render=n.render||c,t.render._rc&&(t.withProxy=new Proxy(t.ctx,ci))),pi=t,ti(t,n),pi=null}function xi(t){pi&&(pi.effects||(pi.effects=[])).push(t)}function bi(t){const e=function(t){let e,n;return w(t)?(e=t,n=c):(e=t.get,n=t.set),new Ht(e,n,w(t)||!t.set)}(t);return xi(e.effect),e}function wi(t){return w(t)?{setup:t,name:t.name}:t}const _i="3.0.1",Ei="http://www.w3.org/2000/svg",Ai="undefined"!=typeof document?document:null;let Ci,Mi;const Ti={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n)=>e?Ai.createElementNS(Ei,t):Ai.createElement(t,n?{is:n}:void 0),createText:t=>Ai.createTextNode(t),createComment:t=>Ai.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ai.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode:t=>t.cloneNode(!0),insertStaticContent(t,e,n,i){const r=i?Mi||(Mi=Ai.createElementNS(Ei,"svg")):Ci||(Ci=Ai.createElement("div"));r.innerHTML=t;const s=r.firstChild;let o=s,a=o;for(;o;)a=o,Ti.insert(o,e,n),o=r.firstChild;return[s,a]}};const Fi=/\s*!important$/;function Si(t,e,n){if(x(n))n.forEach((n=>Si(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const i=function(t,e){const n=Ri[e];if(n)return n;let i=O(e);if("filter"!==i&&i in t)return Ri[e]=i;i=L(i);for(let r=0;r<Ii.length;r++){const n=Ii[r]+i;if(n in t)return Ri[e]=n}return e}(t,e);Fi.test(n)?t.setProperty(P(i),n.replace(Fi,""),"important"):t[i]=n}}const Ii=["Webkit","Moz","ms"],Ri={};const Oi="http://www.w3.org/1999/xlink";let Di=Date.now;"undefined"!=typeof document&&Di()>document.createEvent("Event").timeStamp&&(Di=()=>performance.now());let Pi=0;const Li=Promise.resolve(),Ni=()=>{Pi=0};function ki(t,e,n,i,r=null){const s=t._vei||(t._vei={}),o=s[e];if(i&&o)o.value=i;else{const[n,a]=function(t){let e;if(Ui.test(t)){let n;for(e={};n=t.match(Ui);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t.slice(2).toLowerCase(),e]}(e);if(i){!function(t,e,n,i){t.addEventListener(e,n,i)}(t,n,s[e]=function(t,e){const n=t=>{(t.timeStamp||Di())>=n.attached-1&&Yt(function(t,e){if(x(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Pi||(Li.then(Ni),Pi=Di()))(),n}(i,r),a)}else o&&(!function(t,e,n,i){t.removeEventListener(e,n,i)}(t,n,o,a),s[e]=void 0)}}const Ui=/(?:Once|Passive|Capture)$/;const zi=/^on[a-z]/;const Bi="transition",Vi=(t,{slots:e})=>function(t,e,n){const i=arguments.length;return 2===i?A(e)&&!x(e)?zn(e)?Gn(t,null,[e]):Gn(t,e):Gn(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&zn(n)&&(n=[n]),Gn(t,e,n))}(nn,function(t){let{name:e="v",type:n,css:i=!0,duration:r,enterFromClass:s=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${e}-leave-from`,leaveActiveClass:d=`${e}-leave-active`,leaveToClass:p=`${e}-leave-to`}=t;const f={};for(const m in t)m in Zi||(f[m]=t[m]);if(!i)return f;const g=function(t){if(null==t)return null;if(A(t))return[qi(t.enter),qi(t.leave)];{const e=qi(t);return[e,e]}}(r),v=g&&g[0],y=g&&g[1],{onBeforeEnter:x,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:E,onBeforeAppear:C=x,onAppear:M=b,onAppearCancelled:T=w}=f,F=(t,e,n)=>{Wi(t,e?c:a),Wi(t,e?u:o),n&&n()},S=(t,e)=>{Wi(t,p),Wi(t,d),e&&e()},I=t=>(e,i)=>{const r=t?M:b,o=()=>F(e,t,i);r&&r(e,o),ji((()=>{Wi(e,t?l:s),Gi(e,t?c:a),r&&r.length>1||(v?setTimeout(o,v):Hi(e,n,o))}))};return m(f,{onBeforeEnter(t){x&&x(t),Gi(t,o),Gi(t,s)},onBeforeAppear(t){C&&C(t),Gi(t,u),Gi(t,l)},onEnter:I(!1),onAppear:I(!0),onLeave(t,e){const i=()=>S(t,e);Gi(t,d),Gi(t,h),ji((()=>{Wi(t,h),Gi(t,p),_&&_.length>1||(y?setTimeout(i,y):Hi(t,n,i))})),_&&_(t,i)},onEnterCancelled(t){F(t,!1),w&&w(t)},onAppearCancelled(t){F(t,!0),T&&T(t)},onLeaveCancelled(t){S(t),E&&E(t)}})}(t),e);Vi.displayName="Transition";const Zi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};function qi(t){return(t=>{const e=parseFloat(t);return isNaN(e)?t:e})(t)}function Gi(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function Wi(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function ji(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}function Hi(t,e,n){const{type:i,timeout:r,propCount:s}=function(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),r=i("transitionDelay"),s=i("transitionDuration"),o=Xi(r,s),a=i("animationDelay"),l=i("animationDuration"),u=Xi(a,l);let c=null,h=0,d=0;e===Bi?o>0&&(c=Bi,h=o,d=s.length):"animation"===e?u>0&&(c="animation",h=u,d=l.length):(h=Math.max(o,u),c=h>0?o>u?Bi:"animation":null,d=c?c===Bi?s.length:l.length:0);const p=c===Bi&&/\b(transform|all)(,|$)/.test(n.transitionProperty);return{type:c,timeout:h,propCount:d,hasTransform:p}}(t,e);if(!i)return n();const o=i+"end";let a=0;const l=()=>{t.removeEventListener(o,u),n()},u=e=>{e.target===t&&++a>=s&&l()};setTimeout((()=>{a<s&&l()}),r+1),t.addEventListener(o,u)}function Xi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>Yi(e)+Yi(t[n]))))}function Yi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}Vi.props=m({},nn.props,Zi);const $i=m({patchProp:(t,e,i,r,s=!1,o,a,l,u)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,r,s);break;case"style":!function(t,e,n){const i=t.style;if(n)if(_(n))e!==n&&(i.cssText=n);else{for(const t in n)Si(i,t,n[t]);if(e&&!_(e))for(const t in e)null==n[t]&&Si(i,t,"")}else t.removeAttribute("style")}(t,i,r);break;default:p(e)?f(e)||ki(t,e,0,r,a):function(t,e,n,i){if(i)return"innerHTML"===e||!!(e in t&&zi.test(e)&&w(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e&&"string"==typeof n)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if(zi.test(e)&&_(n))return!1;return e in t}(t,e,r,s)?function(t,e,n,i,r,s,o){if("innerHTML"===e||"textContent"===e)return i&&o(i,r,s),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName)if(""===n&&"boolean"==typeof t[e])t[e]=!0;else if(null==n&&"string"==typeof t[e])t[e]="",t.removeAttribute(e);else try{t[e]=n}catch(a){}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,r,o,a,l,u):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),function(t,e,i,r){if(r&&e.startsWith("xlink:"))null==i?t.removeAttributeNS(Oi,e.slice(6,e.length)):t.setAttributeNS(Oi,e,i);else{const r=n(e);null==i||r&&!1===i?t.removeAttribute(e):t.setAttribute(e,r?"":i)}}(t,e,r,s))}},forcePatchProp:(t,e)=>"value"===e},Ti);let Ki;const Qi=(...t)=>{const e=(Ki||(Ki=Cn($i))).createApp(...t),{mount:n}=e;return e.mount=t=>{const i=function(t){if(_(t)){return document.querySelector(t)}return t}(t);if(!i)return;const r=e._component;w(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="";const s=n(i);return i.removeAttribute("v-cloak"),i.setAttribute("data-v-app",""),s},e};function Ji(t){let e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function tr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function er(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function nr(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function ir(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function rr(t){let e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function sr(t,e){let n=e[0],i=e[1],r=e[2],s=n*n+i*i+r*r;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function or(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ar(t,e,n){let i=e[0],r=e[1],s=e[2],o=n[0],a=n[1],l=n[2];return t[0]=r*l-s*a,t[1]=s*o-i*l,t[2]=i*a-r*o,t}const lr=function(){const t=[0,0,0],e=[0,0,0];return function(n,i){tr(t,n),tr(e,i),sr(t,t),sr(e,e);let r=or(t,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}}();class ur extends Array{constructor(t=0,e=t,n=t){return super(t,e,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,n=t){return t.length?this.copy(t):(function(t,e,n,i){t[0]=e,t[1]=n,t[2]=i}(this,t,e,n),this)}copy(t){return tr(this,t),this}add(t,e){return e?er(this,t,e):er(this,this,t),this}sub(t,e){return e?nr(this,t,e):nr(this,this,t),this}multiply(t){var e,n,i;return t.length?(n=this,i=t,(e=this)[0]=n[0]*i[0],e[1]=n[1]*i[1],e[2]=n[2]*i[2]):ir(this,this,t),this}divide(t){var e,n,i;return t.length?(n=this,i=t,(e=this)[0]=n[0]/i[0],e[1]=n[1]/i[1],e[2]=n[2]/i[2]):ir(this,this,1/t),this}inverse(t=this){var e,n;return n=t,(e=this)[0]=1/n[0],e[1]=1/n[1],e[2]=1/n[2],this}len(){return Ji(this)}distance(t){return t?function(t,e){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}(this,t):Ji(this)}squaredLen(){return rr(this)}squaredDistance(t){return t?function(t,e){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}(this,t):rr(this)}negate(t=this){var e,n;return n=t,(e=this)[0]=-n[0],e[1]=-n[1],e[2]=-n[2],this}cross(t,e){return e?ar(this,t,e):ar(this,this,t),this}scale(t){return ir(this,this,t),this}normalize(){return sr(this,this),this}dot(t){return or(this,t)}equals(t){return n=t,(e=this)[0]===n[0]&&e[1]===n[1]&&e[2]===n[2];var e,n}applyMatrix4(t){return function(t,e,n){let i=e[0],r=e[1],s=e[2],o=n[3]*i+n[7]*r+n[11]*s+n[15];o=o||1,t[0]=(n[0]*i+n[4]*r+n[8]*s+n[12])/o,t[1]=(n[1]*i+n[5]*r+n[9]*s+n[13])/o,t[2]=(n[2]*i+n[6]*r+n[10]*s+n[14])/o}(this,this,t),this}scaleRotateMatrix4(t){return function(t,e,n){let i=e[0],r=e[1],s=e[2],o=n[3]*i+n[7]*r+n[11]*s+n[15];o=o||1,t[0]=(n[0]*i+n[4]*r+n[8]*s)/o,t[1]=(n[1]*i+n[5]*r+n[9]*s)/o,t[2]=(n[2]*i+n[6]*r+n[10]*s)/o}(this,this,t),this}applyQuaternion(t){return function(t,e,n){let i=e[0],r=e[1],s=e[2],o=n[0],a=n[1],l=n[2],u=a*s-l*r,c=l*i-o*s,h=o*r-a*i,d=a*h-l*c,p=l*u-o*h,f=o*c-a*u,m=2*n[3];u*=m,c*=m,h*=m,d*=2,p*=2,f*=2,t[0]=i+u+d,t[1]=r+c+p,t[2]=s+h+f}(this,this,t),this}angle(t){return lr(this,t)}lerp(t,e){return function(t,e,n,i){let r=e[0],s=e[1],o=e[2];t[0]=r+i*(n[0]-r),t[1]=s+i*(n[1]-s),t[2]=o+i*(n[2]-o)}(this,this,t,e),this}clone(){return new ur(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){const e=this[0],n=this[1],i=this[2];return this[0]=t[0]*e+t[4]*n+t[8]*i,this[1]=t[1]*e+t[5]*n+t[9]*i,this[2]=t[2]*e+t[6]*n+t[10]*i,this.normalize()}}const cr=new ur;let hr=1,dr=1,pr=!1;class fr{constructor(t,e={}){this.raycast="box",t.canvas||console.error("gl not passed as fist argument to Geometry"),this.gl=t,this.attributes=e,this.id=hr++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let n in e)this.addAttribute(n,e[n])}addAttribute(t,e){if(this.attributes[t]=e,e.id=dr++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.buffer||(e.buffer=this.gl.createBuffer(),this.updateAttribute(e)),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else"index"===t?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),this.gl.bufferData(t.target,t.data,this.gl.STATIC_DRAW),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach(((t,{name:e,type:n})=>{if(!this.attributes[e])return void console.warn(`active attribute ${e} not being supplied`);const i=this.attributes[e];this.gl.bindBuffer(i.target,i.buffer),this.glState.boundBuffer=i.buffer;let r=1;35674===n&&(r=2),35675===n&&(r=3),35676===n&&(r=4);const s=i.size/r,o=1===r?0:r*r*r,a=1===r?0:r*r;for(let l=0;l<r;l++)this.gl.vertexAttribPointer(t+l,s,i.type,i.normalized,i.stride+o,i.offset+l*a),this.gl.enableVertexAttribArray(t+l),this.gl.renderer.vertexAttribDivisor(t+l,i.divisor)})),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach(((t,{name:e})=>{const n=this.attributes[e];n.needsUpdate&&this.updateAttribute(n)})),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPositionArray(){const t=this.attributes.position;return t.data?t.data:pr?void 0:(console.warn("No position buffer data found to compute bounds"),pr=!0)}computeBoundingBox(t=null){t||(t=this.getPositionArray()),this.bounds||(this.bounds={min:new ur,max:new ur,center:new ur,scale:new ur,radius:1/0});const e=this.bounds.min,n=this.bounds.max,i=this.bounds.center,r=this.bounds.scale;e.set(1/0),n.set(-1/0);for(let s=0,o=t.length;s<o;s+=3){const i=t[s],r=t[s+1],o=t[s+2];e.x=Math.min(i,e.x),e.y=Math.min(r,e.y),e.z=Math.min(o,e.z),n.x=Math.max(i,n.x),n.y=Math.max(r,n.y),n.z=Math.max(o,n.z)}r.sub(n,e),i.add(e,n).divide(2)}computeBoundingSphere(t=null){t||(t=this.getPositionArray()),this.bounds||this.computeBoundingBox(t);let e=0;for(let n=0,i=t.length;n<i;n+=3)cr.fromArray(t,n),e=Math.max(e,this.bounds.center.squaredDistance(cr));this.bounds.radius=Math.sqrt(e)}computeVertexNormals(){const t=this.attributes.position;if(!t)return;let e=this.attributes.normal;e?e.data.fill(0):(this.addAttribute("normal",{size:3,data:new Float32Array(3*t.count)}),e=this.attributes.normal);const n=new ur,i=new ur,r=new ur,s=new ur,o=new ur,a=new ur,l=new ur,u=new ur,c=this.attributes.index;if(c){let h,d,p;for(let f=0,m=c.count;f<m;f+=3)h=c.data[f],d=c.data[f+1],p=c.data[f+2],n.fromArray(t.data,h*t.size),i.fromArray(t.data,d*t.size),r.fromArray(t.data,p*t.size),l.sub(r,i),u.sub(n,i),l.cross(u),s.fromArray(e.data,h*e.size),o.fromArray(e.data,d*e.size),a.fromArray(e.data,p*e.size),s.add(l),o.add(l),a.add(l),h*=e.size,e.data[h]=s.x,e.data[h+1]=s.y,e.data[h+2]=s.z,d*=e.size,e.data[d]=o.x,e.data[d+1]=o.y,e.data[d+2]=o.z,p*=e.size,e.data[p]=a.x,e.data[p+1]=a.y,e.data[p+2]=a.z}else for(let h=0,d=t.count;h<d;h+=3)n.fromArray(t.data,h*t.size),i.fromArray(t.data,(h+1)*t.size),r.fromArray(t.data,(h+2)*t.size),l.sub(r,i),u.sub(n,i),l.cross(u),e.data[h*e.size]=l.x,e.data[h*e.size+1]=l.y,e.data[h*e.size+2]=l.z,e.data[(h+1)*e.size]=l.x,e.data[(h+1)*e.size+1]=l.y,e.data[(h+1)*e.size+2]=l.z,e.data[(h+2)*e.size]=l.x,e.data[(h+2)*e.size+1]=l.y,e.data[(h+2)*e.size+2]=l.z;this.normalizeNormals(),e.needsUpdate=!0}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)cr.fromArray(t.data,e*t.size),cr.normalize(),t.data[e*t.size]=cr.x,t.data[e*t.size+1]=cr.y,t.data[e*t.size+2]=cr.z}remove(){for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let mr=1;const gr={};class vr{constructor(t,{vertex:e,fragment:n,uniforms:i={},transparent:r=!1,cullFace:s=t.BACK,frontFace:o=t.CCW,depthTest:a=!0,depthWrite:l=!0,depthFunc:u=t.LESS}={}){t.canvas||console.error("gl not passed as fist argument to Program"),this.gl=t,this.uniforms=i,this.id=mr++,e||console.warn("vertex shader not supplied"),n||console.warn("fragment shader not supplied"),this.transparent=r,this.cullFace=s,this.frontFace=o,this.depthTest=a,this.depthWrite=l,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const c=t.createShader(t.VERTEX_SHADER);t.shaderSource(c,e),t.compileShader(c),""!==t.getShaderInfoLog(c)&&console.warn(`${t.getShaderInfoLog(c)}\nVertex Shader\n${xr(e)}`);const h=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(h,n),t.compileShader(h),""!==t.getShaderInfoLog(h)&&console.warn(`${t.getShaderInfoLog(h)}\nFragment Shader\n${xr(n)}`),this.program=t.createProgram(),t.attachShader(this.program,c),t.attachShader(this.program,h),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))return void console.warn(t.getProgramInfoLog(this.program));t.deleteShader(c),t.deleteShader(h),this.uniformLocations=new Map;let d=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);for(let m=0;m<d;m++){let e=t.getActiveUniform(this.program,m);this.uniformLocations.set(e,t.getUniformLocation(this.program,e.name));const n=e.name.match(/(\w+)/g);e.uniformName=n[0],3===n.length?(e.isStructArray=!0,e.structIndex=Number(n[1]),e.structProperty=n[2]):2===n.length&&isNaN(Number(n[1]))&&(e.isStruct=!0,e.structProperty=n[1])}this.attributeLocations=new Map;const p=[],f=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);for(let m=0;m<f;m++){const e=t.getActiveAttrib(this.program,m),n=t.getAttribLocation(this.program,e.name);p[n]=e.name,this.attributeLocations.set(e,n)}this.attributeOrder=p.join("")}setBlendFunc(t,e,n,i){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=n,this.blendFunc.dstAlpha=i,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.currentProgram=this.id),this.uniformLocations.forEach(((t,n)=>{let i=n.uniformName,r=this.uniforms[i];if(n.isStruct&&(r=r[n.structProperty],i+=`.${n.structProperty}`),n.isStructArray&&(r=r[n.structIndex][n.structProperty],i+=`[${n.structIndex}].${n.structProperty}`),!r)return wr(`Active uniform ${i} has not been supplied`);if(r&&void 0===r.value)return wr(`${i} uniform is missing a value parameter`);if(r.value.texture)return e+=1,r.value.update(e),yr(this.gl,n.type,t,e);if(r.value.length&&r.value[0].texture){const i=[];return r.value.forEach((t=>{e+=1,t.update(e),i.push(e)})),yr(this.gl,n.type,t,i)}yr(this.gl,n.type,t,r.value)})),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function yr(t,e,n,i){i=i.length?function(t){const e=t.length,n=t[0].length;if(void 0===n)return t;const i=e*n;let r=gr[i];r||(gr[i]=r=new Float32Array(i));for(let s=0;s<e;s++)r.set(t[s],s*n);return r}(i):i;const r=t.renderer.state.uniformLocations.get(n);if(i.length)if(void 0===r||r.length!==i.length)t.renderer.state.uniformLocations.set(n,i.slice(0));else{if(function(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}(r,i))return;r.set?r.set(i):function(t,e){for(let n=0,i=t.length;n<i;n++)t[n]=e[n]}(r,i),t.renderer.state.uniformLocations.set(n,r)}else{if(r===i)return;t.renderer.state.uniformLocations.set(n,i)}switch(e){case 5126:return i.length?t.uniform1fv(n,i):t.uniform1f(n,i);case 35664:return t.uniform2fv(n,i);case 35665:return t.uniform3fv(n,i);case 35666:return t.uniform4fv(n,i);case 35670:case 5124:case 35678:case 35680:return i.length?t.uniform1iv(n,i):t.uniform1i(n,i);case 35671:case 35667:return t.uniform2iv(n,i);case 35672:case 35668:return t.uniform3iv(n,i);case 35673:case 35669:return t.uniform4iv(n,i);case 35674:return t.uniformMatrix2fv(n,!1,i);case 35675:return t.uniformMatrix3fv(n,!1,i);case 35676:return t.uniformMatrix4fv(n,!1,i)}}function xr(t){let e=t.split("\n");for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}let br=0;function wr(t){br>100||(console.warn(t),br++,br>100&&console.warn("More than 100 program warnings - stopping logs."))}const _r=new ur;let Er=1;class Ar{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:n=150,dpr:i=1,alpha:r=!1,depth:s=!0,stencil:o=!1,antialias:a=!1,premultipliedAlpha:l=!1,preserveDrawingBuffer:u=!1,powerPreference:c="default",autoClear:h=!0,webgl:d=2}={}){const p={alpha:r,depth:s,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c};this.dpr=i,this.alpha=r,this.color=!0,this.depth=s,this.stencil=o,this.premultipliedAlpha=l,this.autoClear=h,this._id=Er++,2===d&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)||t.getContext("experimental-webgl",p)),this.gl.renderer=this,this.setSize(e,n),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}get id(){return this._id}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e){this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.gl.viewport(0,0,t,e))}enable(t){!0!==this.state[t]&&(this.gl.enable(t),this.state[t]=!0)}disable(t){!1!==this.state[t]&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,n,i){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===n&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=n,this.state.blendFunc.dstAlpha=i,void 0!==n?this.gl.blendFuncSeparate(t,e,n,i):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e||(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,void 0!==e?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,n){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][n].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:n,sort:i}){let r=[];if(e&&n&&e.updateFrustum(),t.traverse((t=>{if(!t.visible)return!0;(t=>!!t.draw)(t)&&(n&&t.frustumCulled&&e&&!e.frustumIntersectsMesh(t)||r.push(t))})),i){const t=[],n=[],i=[];r.forEach((r=>{r.program.transparent?r.program.depthTest?n.push(r):i.push(r):t.push(r),r.zDepth=0,0===r.renderOrder&&r.program.depthTest&&e&&(r.worldMatrix.getTranslation(_r),_r.applyMatrix4(e.projectionViewMatrix),r.zDepth=_r.z)})),t.sort(this.sortOpaque),n.sort(this.sortTransparent),i.sort(this.sortUI),r=t.concat(n,i)}return r}render({scene:t,camera:e,target:n=null,update:i=!0,sort:r=!0,frustumCull:s=!0,clear:o}){null===n?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(n),this.setViewport(n.width,n.height)),(o||this.autoClear&&!1!==o)&&(!this.depth||n&&!n.depth||(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&t.updateMatrixWorld(),e&&e.updateMatrixWorld();this.getRenderList({scene:t,camera:e,frustumCull:s,sort:r}).forEach((t=>{t.draw({camera:e})}))}}function Cr(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],v=e[14],y=e[15],x=n[0],b=n[1],w=n[2],_=n[3];return t[0]=x*i+b*a+w*h+_*m,t[1]=x*r+b*l+w*d+_*g,t[2]=x*s+b*u+w*p+_*v,t[3]=x*o+b*c+w*f+_*y,x=n[4],b=n[5],w=n[6],_=n[7],t[4]=x*i+b*a+w*h+_*m,t[5]=x*r+b*l+w*d+_*g,t[6]=x*s+b*u+w*p+_*v,t[7]=x*o+b*c+w*f+_*y,x=n[8],b=n[9],w=n[10],_=n[11],t[8]=x*i+b*a+w*h+_*m,t[9]=x*r+b*l+w*d+_*g,t[10]=x*s+b*u+w*p+_*v,t[11]=x*o+b*c+w*f+_*y,x=n[12],b=n[13],w=n[14],_=n[15],t[12]=x*i+b*a+w*h+_*m,t[13]=x*r+b*l+w*d+_*g,t[14]=x*s+b*u+w*p+_*v,t[15]=x*o+b*c+w*f+_*y,t}function Mr(t,e){let n=e[0],i=e[1],r=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,i,r),t[1]=Math.hypot(s,o,a),t[2]=Math.hypot(l,u,c),t}const Tr=function(){const t=[0,0,0];return function(e,n){let i=t;Mr(i,n);let r=1/i[0],s=1/i[1],o=1/i[2],a=n[0]*r,l=n[1]*s,u=n[2]*o,c=n[4]*r,h=n[5]*s,d=n[6]*o,p=n[8]*r,f=n[9]*s,m=n[10]*o,g=a+h+m,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(d-f)/v,e[1]=(p-u)/v,e[2]=(l-c)/v):a>h&&a>m?(v=2*Math.sqrt(1+a-h-m),e[3]=(d-f)/v,e[0]=.25*v,e[1]=(l+c)/v,e[2]=(p+u)/v):h>m?(v=2*Math.sqrt(1+h-a-m),e[3]=(p-u)/v,e[0]=(l+c)/v,e[1]=.25*v,e[2]=(d+f)/v):(v=2*Math.sqrt(1+m-a-h),e[3]=(l-c)/v,e[0]=(p+u)/v,e[1]=(d+f)/v,e[2]=.25*v),e}}();class Fr extends Array{constructor(t=1,e=0,n=0,i=0,r=0,s=1,o=0,a=0,l=0,u=0,c=1,h=0,d=0,p=0,f=0,m=1){return super(t,e,n,i,r,s,o,a,l,u,c,h,d,p,f,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,n,i,r,s,o,a,l,u,c,h,d,p,f,m){return t.length?this.copy(t):(function(t,e,n,i,r,s,o,a,l,u,c,h,d,p,f,m,g){t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=u,t[9]=c,t[10]=h,t[11]=d,t[12]=p,t[13]=f,t[14]=m,t[15]=g}(this,t,e,n,i,r,s,o,a,l,u,c,h,d,p,f,m),this)}translate(t,e=this){return function(t,e,n){let i,r,s,o,a,l,u,c,h,d,p,f,m=n[0],g=n[1],v=n[2];e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],p=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=d,t[10]=p,t[11]=f,t[12]=i*m+a*g+h*v+e[12],t[13]=r*m+l*g+d*v+e[13],t[14]=s*m+u*g+p*v+e[14],t[15]=o*m+c*g+f*v+e[15])}(this,e,t),this}rotate(t,e,n=this){return function(t,e,n,i){let r,s,o,a,l,u,c,h,d,p,f,m,g,v,y,x,b,w,_,E,A,C,M,T,F=i[0],S=i[1],I=i[2],R=Math.hypot(F,S,I);Math.abs(R)<1e-6||(R=1/R,F*=R,S*=R,I*=R,r=Math.sin(n),s=Math.cos(n),o=1-s,a=e[0],l=e[1],u=e[2],c=e[3],h=e[4],d=e[5],p=e[6],f=e[7],m=e[8],g=e[9],v=e[10],y=e[11],x=F*F*o+s,b=S*F*o+I*r,w=I*F*o-S*r,_=F*S*o-I*r,E=S*S*o+s,A=I*S*o+F*r,C=F*I*o+S*r,M=S*I*o-F*r,T=I*I*o+s,t[0]=a*x+h*b+m*w,t[1]=l*x+d*b+g*w,t[2]=u*x+p*b+v*w,t[3]=c*x+f*b+y*w,t[4]=a*_+h*E+m*A,t[5]=l*_+d*E+g*A,t[6]=u*_+p*E+v*A,t[7]=c*_+f*E+y*A,t[8]=a*C+h*M+m*T,t[9]=l*C+d*M+g*T,t[10]=u*C+p*M+v*T,t[11]=c*C+f*M+y*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]))}(this,n,t,e),this}scale(t,e=this){return function(t,e,n){let i=n[0],r=n[1],s=n[2];t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this,e,"number"==typeof t?[t,t,t]:t),this}multiply(t,e){return e?Cr(this,t,e):Cr(this,this,t),this}identity(){var t;return(t=this)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}copy(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}fromPerspective({fov:t,aspect:e,near:n,far:i}={}){return function(t,e,n,i,r){let s=1/Math.tan(e/2),o=1/(i-r);t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*o,t[15]=0}(this,t,e,n,i),this}fromOrthogonal({left:t,right:e,bottom:n,top:i,near:r,far:s}){return function(t,e,n,i,r,s,o){let a=1/(e-n),l=1/(i-r),u=1/(s-o);t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*a,t[13]=(r+i)*l,t[14]=(o+s)*u,t[15]=1}(this,t,e,n,i,r,s),this}fromQuaternion(t){return function(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,a=i+i,l=r+r,u=n*o,c=i*o,h=i*a,d=r*o,p=r*a,f=r*l,m=s*o,g=s*a,v=s*l;t[0]=1-h-f,t[1]=c+v,t[2]=d-g,t[3]=0,t[4]=c-v,t[5]=1-u-f,t[6]=p+m,t[7]=0,t[8]=d+g,t[9]=p-m,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return function(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=n*a-i*o,x=n*l-r*o,b=n*u-s*o,w=i*l-r*a,_=i*u-s*a,E=r*u-s*l,A=c*m-h*f,C=c*g-d*f,M=c*v-p*f,T=h*g-d*m,F=h*v-p*m,S=d*v-p*g,I=y*S-x*F+b*T+w*M-_*C+E*A;I&&(I=1/I,t[0]=(a*S-l*F+u*T)*I,t[1]=(r*F-i*S-s*T)*I,t[2]=(m*E-g*_+v*w)*I,t[3]=(d*_-h*E-p*w)*I,t[4]=(l*M-o*S-u*C)*I,t[5]=(n*S-r*M+s*C)*I,t[6]=(g*b-f*E-v*x)*I,t[7]=(c*E-d*b+p*x)*I,t[8]=(o*F-a*M+u*A)*I,t[9]=(i*M-n*F-s*A)*I,t[10]=(f*_-m*b+v*y)*I,t[11]=(h*b-c*_-p*y)*I,t[12]=(a*C-o*T-l*A)*I,t[13]=(n*T-i*C+r*A)*I,t[14]=(m*x-f*w-g*y)*I,t[15]=(c*w-h*x+d*y)*I)}(this,t),this}compose(t,e,n){return function(t,e,n,i){let r=e[0],s=e[1],o=e[2],a=e[3],l=r+r,u=s+s,c=o+o,h=r*l,d=r*u,p=r*c,f=s*u,m=s*c,g=o*c,v=a*l,y=a*u,x=a*c,b=i[0],w=i[1],_=i[2];t[0]=(1-(f+g))*b,t[1]=(d+x)*b,t[2]=(p-y)*b,t[3]=0,t[4]=(d-x)*w,t[5]=(1-(h+g))*w,t[6]=(m+v)*w,t[7]=0,t[8]=(p+y)*_,t[9]=(m-v)*_,t[10]=(1-(h+f))*_,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1}(this,t,e,n),this}getRotation(t){return Tr(t,this),this}getTranslation(t){var e,n;return n=this,(e=t)[0]=n[12],e[1]=n[13],e[2]=n[14],this}getScaling(t){return Mr(t,this),this}getMaxScaleOnAxis(){return function(t){let e=t[0],n=t[1],i=t[2],r=t[4],s=t[5],o=t[6],a=t[8],l=t[9],u=t[10];const c=e*e+n*n+i*i,h=r*r+s*s+o*o,d=a*a+l*l+u*u;return Math.sqrt(Math.max(c,h,d))}(this)}lookAt(t,e,n){return function(t,e,n,i){let r=e[0],s=e[1],o=e[2],a=i[0],l=i[1],u=i[2],c=r-n[0],h=s-n[1],d=o-n[2],p=c*c+h*h+d*d;0===p?d=1:(p=1/Math.sqrt(p),c*=p,h*=p,d*=p);let f=l*d-u*h,m=u*c-a*d,g=a*h-l*c;p=f*f+m*m+g*g,0===p&&(u?a+=1e-6:l?u+=1e-6:l+=1e-6,f=l*d-u*h,m=u*c-a*d,g=a*h-l*c,p=f*f+m*m+g*g),p=1/Math.sqrt(p),f*=p,m*=p,g*=p,t[0]=f,t[1]=m,t[2]=g,t[3]=0,t[4]=h*g-d*m,t[5]=d*f-c*g,t[6]=c*m-h*f,t[7]=0,t[8]=c,t[9]=h,t[10]=d,t[11]=0,t[12]=r,t[13]=s,t[14]=o,t[15]=1}(this,t,e,n),this}determinant(){return function(t){let e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15];return(e*o-n*s)*(h*g-d*m)-(e*a-i*s)*(c*g-d*f)+(e*l-r*s)*(c*m-h*f)+(n*a-i*o)*(u*g-d*p)-(n*l-r*o)*(u*m-h*p)+(i*l-r*a)*(u*f-c*p)}(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}function Sr(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=n[0],l=n[1],u=n[2],c=n[3];return t[0]=i*c+o*a+r*u-s*l,t[1]=r*c+o*l+s*a-i*u,t[2]=s*c+o*u+i*l-r*a,t[3]=o*c-i*a-r*l-s*u,t}const Ir=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},Rr=function(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t},Or=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},Dr=function(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=n*n+i*i+r*r+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=i*o,t[2]=r*o,t[3]=s*o,t};class Pr extends Array{constructor(t=0,e=0,n=0,i=1){return super(t,e,n,i),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set w(t){this[3]=t,this.onChange()}identity(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.onChange(),this}set(t,e,n,i){return t.length?this.copy(t):(Rr(this,t,e,n,i),this.onChange(),this)}rotateX(t){return function(t,e,n){n*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=i*l+o*a,t[1]=r*l+s*a,t[2]=s*l-r*a,t[3]=o*l-i*a}(this,this,t),this.onChange(),this}rotateY(t){return function(t,e,n){n*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=i*l-s*a,t[1]=r*l+o*a,t[2]=s*l+i*a,t[3]=o*l-r*a}(this,this,t),this.onChange(),this}rotateZ(t){return function(t,e,n){n*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],a=Math.sin(n),l=Math.cos(n);t[0]=i*l+r*a,t[1]=r*l-i*a,t[2]=s*l+o*a,t[3]=o*l-s*a}(this,this,t),this.onChange(),this}inverse(t=this){return function(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=n*n+i*i+r*r+s*s,a=o?1/o:0;t[0]=-n*a,t[1]=-i*a,t[2]=-r*a,t[3]=s*a}(this,t),this.onChange(),this}conjugate(t=this){var e,n;return n=t,(e=this)[0]=-n[0],e[1]=-n[1],e[2]=-n[2],e[3]=n[3],this.onChange(),this}copy(t){return Ir(this,t),this.onChange(),this}normalize(t=this){return Dr(this,t),this.onChange(),this}multiply(t,e){return e?Sr(this,t,e):Sr(this,this,t),this.onChange(),this}dot(t){return Or(this,t)}fromMatrix3(t){return function(t,e){let n,i=e[0]+e[4]+e[8];if(i>0)n=Math.sqrt(i+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);let r=(i+1)%3,s=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*r+r]-e[3*s+s]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*r+s]-e[3*s+r])*n,t[r]=(e[3*r+i]+e[3*i+r])*n,t[s]=(e[3*s+i]+e[3*i+s])*n}}(this,t),this.onChange(),this}fromEuler(t){return function(t,e,n="YXZ"){let i=Math.sin(.5*e[0]),r=Math.cos(.5*e[0]),s=Math.sin(.5*e[1]),o=Math.cos(.5*e[1]),a=Math.sin(.5*e[2]),l=Math.cos(.5*e[2]);"XYZ"===n?(t[0]=i*o*l+r*s*a,t[1]=r*s*l-i*o*a,t[2]=r*o*a+i*s*l,t[3]=r*o*l-i*s*a):"YXZ"===n?(t[0]=i*o*l+r*s*a,t[1]=r*s*l-i*o*a,t[2]=r*o*a-i*s*l,t[3]=r*o*l+i*s*a):"ZXY"===n?(t[0]=i*o*l-r*s*a,t[1]=r*s*l+i*o*a,t[2]=r*o*a+i*s*l,t[3]=r*o*l-i*s*a):"ZYX"===n?(t[0]=i*o*l-r*s*a,t[1]=r*s*l+i*o*a,t[2]=r*o*a-i*s*l,t[3]=r*o*l+i*s*a):"YZX"===n?(t[0]=i*o*l+r*s*a,t[1]=r*s*l+i*o*a,t[2]=r*o*a-i*s*l,t[3]=r*o*l-i*s*a):"XZY"===n&&(t[0]=i*o*l-r*s*a,t[1]=r*s*l-i*o*a,t[2]=r*o*a+i*s*l,t[3]=r*o*l+i*s*a)}(this,t,t.order),this}fromAxisAngle(t,e){return function(t,e,n){n*=.5;let i=Math.sin(n);t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n)}(this,t,e),this}slerp(t,e){return function(t,e,n,i){let r,s,o,a,l,u=e[0],c=e[1],h=e[2],d=e[3],p=n[0],f=n[1],m=n[2],g=n[3];s=u*p+c*f+h*m+d*g,s<0&&(s=-s,p=-p,f=-f,m=-m,g=-g),1-s>1e-6?(r=Math.acos(s),o=Math.sin(r),a=Math.sin((1-i)*r)/o,l=Math.sin(i*r)/o):(a=1-i,l=i),t[0]=a*u+l*p,t[1]=a*c+l*f,t[2]=a*h+l*m,t[3]=a*d+l*g}(this,this,t,e),this}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}const Lr=new Fr;class Nr extends Array{constructor(t=0,e=t,n=t,i="YXZ"){return super(t,e,n),this.order=i,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set(t,e=t,n=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=n,this.onChange(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}reorder(t){return this.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return function(t,e,n="YXZ"){"XYZ"===n?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):"YXZ"===n?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):"ZXY"===n?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):"ZYX"===n?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):"YZX"===n?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):"XZY"===n&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0))}(this,t,e),this}fromQuaternion(t,e=this.order){return Lr.fromQuaternion(t),this.fromRotationMatrix(Lr,e)}}class kr{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Fr,this.worldMatrix=new Fr,this.matrixAutoUpdate=!0,this.up=new ur(0,1,0),this.position=new ur,this.scale=new ur(1),this.quaternion=new Pr,this.rotation=new Nr,this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t,e=!0){e&&this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,n=this.children.length;e<n;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,n=this.children.length;e<n;e++)this.children[e].traverse(t)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}const Ur=new Fr,zr=new ur,Br=new ur;class Vr extends kr{constructor(t,{near:e=.1,far:n=100,fov:i=45,aspect:r=1,left:s,right:o,bottom:a,top:l,zoom:u=1}={}){super(),Object.assign(this,{near:e,far:n,fov:i,aspect:r,left:s,right:o,bottom:a,top:l,zoom:u}),this.projectionMatrix=new Fr,this.viewMatrix=new Fr,this.projectionViewMatrix=new Fr,this.worldPosition=new ur,this.type=s||o?"orthographic":"perspective","orthographic"===this.type?this.orthographic():this.perspective()}perspective({near:t=this.near,far:e=this.far,fov:n=this.fov,aspect:i=this.aspect}={}){return Object.assign(this,{near:t,far:e,fov:n,aspect:i}),this.projectionMatrix.fromPerspective({fov:n*(Math.PI/180),aspect:i,near:t,far:e}),this.type="perspective",this}orthographic({near:t=this.near,far:e=this.far,left:n=this.left,right:i=this.right,bottom:r=this.bottom,top:s=this.top,zoom:o=this.zoom}={}){return Object.assign(this,{near:t,far:e,left:n,right:i,bottom:r,top:s,zoom:o}),n/=o,i/=o,r/=o,s/=o,this.projectionMatrix.fromOrthogonal({left:n,right:i,bottom:r,top:s,near:t,far:e}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(Ur.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new ur,new ur,new ur,new ur,new ur,new ur]);const t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let e=0;e<6;e++){const t=1/this.frustum[e].distance();this.frustum[e].multiply(t),this.frustum[e].constant*=t}}frustumIntersectsMesh(t){if(!t.geometry.attributes.position)return!0;if(t.geometry.bounds&&t.geometry.bounds.radius!==1/0||t.geometry.computeBoundingSphere(),!t.geometry.bounds)return!0;const e=zr;e.copy(t.geometry.bounds.center),e.applyMatrix4(t.worldMatrix);const n=t.geometry.bounds.radius*t.worldMatrix.getMaxScaleOnAxis();return this.frustumIntersectsSphere(e,n)}frustumIntersectsSphere(t,e){const n=Br;for(let i=0;i<6;i++){const r=this.frustum[i];if(n.copy(r).dot(t)+r.constant<-e)return!1}return!0}}function Zr(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=n[0],p=n[1],f=n[2],m=n[3],g=n[4],v=n[5],y=n[6],x=n[7],b=n[8];return t[0]=d*i+p*o+f*u,t[1]=d*r+p*a+f*c,t[2]=d*s+p*l+f*h,t[3]=m*i+g*o+v*u,t[4]=m*r+g*a+v*c,t[5]=m*s+g*l+v*h,t[6]=y*i+x*o+b*u,t[7]=y*r+x*a+b*c,t[8]=y*s+x*l+b*h,t}class qr extends Array{constructor(t=1,e=0,n=0,i=0,r=1,s=0,o=0,a=0,l=1){return super(t,e,n,i,r,s,o,a,l),this}set(t,e,n,i,r,s,o,a,l){return t.length?this.copy(t):(function(t,e,n,i,r,s,o,a,l,u){t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=u}(this,t,e,n,i,r,s,o,a,l),this)}translate(t,e=this){return function(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=n[0],p=n[1];t[0]=i,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=d*i+p*o+u,t[7]=d*r+p*a+c,t[8]=d*s+p*l+h}(this,e,t),this}rotate(t,e=this){return function(t,e,n){let i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=Math.sin(n),p=Math.cos(n);t[0]=p*i+d*o,t[1]=p*r+d*a,t[2]=p*s+d*l,t[3]=p*o-d*i,t[4]=p*a-d*r,t[5]=p*l-d*s,t[6]=u,t[7]=c,t[8]=h}(this,e,t),this}scale(t,e=this){return function(t,e,n){let i=n[0],r=n[1];t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8]}(this,e,t),this}multiply(t,e){return e?Zr(this,t,e):Zr(this,this,t),this}identity(){var t;return(t=this)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this}copy(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}fromMatrix4(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[4],e[4]=n[5],e[5]=n[6],e[6]=n[8],e[7]=n[9],e[8]=n[10],this}fromQuaternion(t){return function(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,a=i+i,l=r+r,u=n*o,c=i*o,h=i*a,d=r*o,p=r*a,f=r*l,m=s*o,g=s*a,v=s*l;t[0]=1-h-f,t[3]=c-v,t[6]=d+g,t[1]=c+v,t[4]=1-u-f,t[7]=p-m,t[2]=d-g,t[5]=p+m,t[8]=1-u-h}(this,t),this}fromBasis(t,e,n){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2]),this}inverse(t=this){return function(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=c*o-a*u,d=-c*s+a*l,p=u*s-o*l,f=n*h+i*d+r*p;f&&(f=1/f,t[0]=h*f,t[1]=(-c*i+r*u)*f,t[2]=(a*i-r*o)*f,t[3]=d*f,t[4]=(c*n-r*l)*f,t[5]=(-a*n+r*s)*f,t[6]=p*f,t[7]=(-u*n+i*l)*f,t[8]=(o*n-i*s)*f)}(this,t),this}getNormalMatrix(t){return function(t,e){let n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=n*a-i*o,x=n*l-r*o,b=n*u-s*o,w=i*l-r*a,_=i*u-s*a,E=r*u-s*l,A=c*m-h*f,C=c*g-d*f,M=c*v-p*f,T=h*g-d*m,F=h*v-p*m,S=d*v-p*g,I=y*S-x*F+b*T+w*M-_*C+E*A;I&&(I=1/I,t[0]=(a*S-l*F+u*T)*I,t[1]=(l*M-o*S-u*C)*I,t[2]=(o*F-a*M+u*A)*I,t[3]=(r*F-i*S-s*T)*I,t[4]=(n*S-r*M+s*C)*I,t[5]=(i*M-n*F-s*A)*I,t[6]=(m*E-g*_+v*w)*I,t[7]=(g*b-f*E-v*x)*I,t[8]=(f*_-m*b+v*y)*I)}(this,t),this}}let Gr=0;class Wr extends kr{constructor(t,{geometry:e,program:n,mode:i=t.TRIANGLES,frustumCulled:r=!0,renderOrder:s=0}={}){super(),this.hit=null,t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=Gr++,this.geometry=e,this.program=n,this.mode=i,this.frustumCulled=r,this.renderOrder=s,this.modelViewMatrix=new Fr,this.normalMatrix=new qr,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){this.beforeRenderCallbacks.forEach((e=>e&&e({mesh:this,camera:t}))),t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach((e=>e&&e({mesh:this,camera:t})))}}const jr=new Uint8Array(4);function Hr(t){return 0==(t&t-1)}let Xr=1;class Yr{constructor(t,{image:e,target:n=t.TEXTURE_2D,type:i=t.UNSIGNED_BYTE,format:r=t.RGBA,internalFormat:s=r,wrapS:o=t.CLAMP_TO_EDGE,wrapT:a=t.CLAMP_TO_EDGE,generateMipmaps:l=!0,minFilter:u=(l?t.NEAREST_MIPMAP_LINEAR:t.LINEAR),magFilter:c=t.LINEAR,premultiplyAlpha:h=!1,unpackAlignment:d=4,flipY:p=n==t.TEXTURE_2D,anisotropy:f=0,level:m=0,width:g,height:v=g}={}){this.gl=t,this.id=Xr++,this.image=e,this.target=n,this.type=i,this.format=r,this.internalFormat=s,this.minFilter=u,this.magFilter=c,this.wrapS=o,this.wrapT=a,this.generateMipmaps=l,this.premultiplyAlpha=h,this.unpackAlignment=d,this.flipY=p,this.anisotropy=Math.min(f,this.gl.renderer.parameters.maxAnisotropy),this.level=m,this.width=g,this.height=v,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={minFilter:this.gl.NEAREST_MIPMAP_LINEAR,magFilter:this.gl.LINEAR,wrapS:this.gl.REPEAT,wrapT:this.gl.REPEAT,anisotropy:0}}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){const e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,this.level,this.internalFormat,this.format,this.type,this.image[t]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(!0===this.image.isCompressedTexture){let t;for(let e=0;e<this.image.length;e++)t=this.image[e],this.gl.compressedTexImage2D(this.target,e,this.internalFormat,t.width,t.height,0,t.data)}else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||Hr(this.image.width)&&Hr(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,jr);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,jr);this.store.image=this.image}}}class $r{constructor(t,{width:e=t.canvas.width,height:n=t.canvas.height,target:i=t.FRAMEBUFFER,color:r=1,depth:s=!0,stencil:o=!1,depthTexture:a=!1,wrapS:l=t.CLAMP_TO_EDGE,wrapT:u=t.CLAMP_TO_EDGE,minFilter:c=t.LINEAR,magFilter:h=c,type:d=t.UNSIGNED_BYTE,format:p=t.RGBA,internalFormat:f=p,unpackAlignment:m,premultiplyAlpha:g}={}){this.gl=t,this.width=e,this.height=n,this.depth=s,this.buffer=this.gl.createFramebuffer(),this.target=i,this.gl.bindFramebuffer(this.target,this.buffer),this.textures=[];const v=[];for(let y=0;y<r;y++)this.textures.push(new Yr(t,{width:e,height:n,wrapS:l,wrapT:u,minFilter:c,magFilter:h,type:d,format:p,internalFormat:f,unpackAlignment:m,premultiplyAlpha:g,flipY:!1,generateMipmaps:!1})),this.textures[y].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+y,this.gl.TEXTURE_2D,this.textures[y].texture,0),v.push(this.gl.COLOR_ATTACHMENT0+y);v.length>1&&this.gl.renderer.drawBuffers(v),this.texture=this.textures[0],a&&(this.gl.renderer.isWebgl2||this.gl.renderer.getExtension("WEBGL_depth_texture"))?(this.depthTexture=new Yr(t,{width:e,height:n,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,format:this.gl.DEPTH_COMPONENT,internalFormat:t.renderer.isWebgl2?this.gl.DEPTH_COMPONENT16:this.gl.DEPTH_COMPONENT,type:this.gl.UNSIGNED_INT}),this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(s&&!o&&(this.depthBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,e,n),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer)),o&&!s&&(this.stencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,e,n),this.gl.framebufferRenderbuffer(this.target,this.gl.STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.stencilBuffer)),s&&o&&(this.depthStencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,e,n),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.depthStencilBuffer))),this.gl.bindFramebuffer(this.target,null)}}const Kr={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function Qr(t){4===t.length&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function Jr(t){return[((t=parseInt(t))>>16&255)/255,(t>>8&255)/255,(255&t)/255]}function ts(t=null){return t?3===arguments.length?arguments:isNaN(t)?"#"===t[0]?Qr(t):Kr[t.toLowerCase()]?Qr(Kr[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Jr(t):[0,0,0]}class es extends Array{constructor(t=null){Array.isArray(t)?super(...t):super(...ts(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(ts(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}function ns(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function is(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function rs(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ss(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function os(t,e){return t[0]*e[1]-t[1]*e[0]}class as extends Array{constructor(t=0,e=t){return super(t,e),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,e=t){return t.length?this.copy(t):(function(t,e,n){t[0]=e,t[1]=n}(this,t,e),this)}copy(t){var e,n;return n=t,(e=this)[0]=n[0],e[1]=n[1],this}add(t,e){return e?ns(this,t,e):ns(this,this,t),this}sub(t,e){return e?is(this,t,e):is(this,this,t),this}multiply(t){var e,n,i;return t.length?(n=this,i=t,(e=this)[0]=n[0]*i[0],e[1]=n[1]*i[1]):rs(this,this,t),this}divide(t){var e,n,i;return t.length?(n=this,i=t,(e=this)[0]=n[0]/i[0],e[1]=n[1]/i[1]):rs(this,this,1/t),this}inverse(t=this){var e,n;return n=t,(e=this)[0]=1/n[0],e[1]=1/n[1],this}len(){return ss(this)}distance(t){return t?(e=this,i=(n=t)[0]-e[0],r=n[1]-e[1],Math.sqrt(i*i+r*r)):ss(this);var e,n,i,r}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?(e=this,i=(n=t)[0]-e[0],r=n[1]-e[1],i*i+r*r):function(t){var e=t[0],n=t[1];return e*e+n*n}(this);var e,n,i,r}negate(t=this){var e,n;return n=t,(e=this)[0]=-n[0],e[1]=-n[1],this}cross(t,e){return e?os(t,e):os(this,t)}scale(t){return rs(this,this,t),this}normalize(){var t,e,n,i,r;return t=this,n=(e=this)[0],i=e[1],(r=n*n+i*i)>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,this}dot(t){return n=t,(e=this)[0]*n[0]+e[1]*n[1];var e,n}equals(t){return n=t,(e=this)[0]===n[0]&&e[1]===n[1];var e,n}applyMatrix3(t){var e,n,i,r,s;return e=this,i=t,r=(n=this)[0],s=n[1],e[0]=i[0]*r+i[3]*s+i[6],e[1]=i[1]*r+i[4]*s+i[7],this}applyMatrix4(t){return function(t,e,n){let i=e[0],r=e[1];t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13]}(this,this,t),this}lerp(t,e){!function(t,e,n,i){var r=e[0],s=e[1];t[0]=r+i*(n[0]-r),t[1]=s+i*(n[1]-s)}(this,this,t,e)}clone(){return new as(this[0],this[1])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t}}class ls extends fr{constructor(t,{radius:e=.5,widthSegments:n=16,heightSegments:i=Math.ceil(.5*n),phiStart:r=0,phiLength:s=2*Math.PI,thetaStart:o=0,thetaLength:a=Math.PI,attributes:l={}}={}){const u=n,c=i,h=r,d=s,p=o,f=a,m=(u+1)*(c+1),g=u*c*6,v=new Float32Array(3*m),y=new Float32Array(3*m),x=new Float32Array(2*m),b=m>65536?new Uint32Array(g):new Uint16Array(g);let w=0,_=0,E=0,A=p+f;const C=[];let M=new ur;for(let T=0;T<=c;T++){let t=[],n=T/c;for(let i=0;i<=u;i++,w++){let r=i/u,s=-e*Math.cos(h+r*d)*Math.sin(p+n*f),o=e*Math.cos(p+n*f),a=e*Math.sin(h+r*d)*Math.sin(p+n*f);v[3*w]=s,v[3*w+1]=o,v[3*w+2]=a,M.set(s,o,a).normalize(),y[3*w]=M.x,y[3*w+1]=M.y,y[3*w+2]=M.z,x[2*w]=r,x[2*w+1]=1-n,t.push(_++)}C.push(t)}for(let T=0;T<c;T++)for(let t=0;t<u;t++){let e=C[T][t+1],n=C[T][t],i=C[T+1][t],r=C[T+1][t+1];(0!==T||p>0)&&(b[3*E]=e,b[3*E+1]=n,b[3*E+2]=r,E++),(T!==c-1||A<Math.PI)&&(b[3*E]=n,b[3*E+1]=i,b[3*E+2]=r,E++)}Object.assign(l,{position:{size:3,data:v},normal:{size:3,data:y},uv:{size:2,data:x},index:{data:b}}),super(t,l)}}class us extends fr{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}class cs{constructor(t,{width:e,height:n,dpr:i,wrapS:r=t.CLAMP_TO_EDGE,wrapT:s=t.CLAMP_TO_EDGE,minFilter:o=t.LINEAR,magFilter:a=t.LINEAR,geometry:l=new us(t),targetOnly:u=null}={}){this.gl=t,this.options={wrapS:r,wrapT:s,minFilter:o,magFilter:a},this.passes=[],this.geometry=l,this.uniform={value:null},this.targetOnly=u;const c=this.fbo={read:null,write:null,swap:()=>{let t=c.read;c.read=c.write,c.write=t}};this.resize({width:e,height:n,dpr:i})}addPass({vertex:t=hs,fragment:e=ds,uniforms:n={},textureUniform:i="tMap",enabled:r=!0}={}){n[i]={value:this.fbo.read.texture};const s=new vr(this.gl,{vertex:t,fragment:e,uniforms:n}),o={mesh:new Wr(this.gl,{geometry:this.geometry,program:s}),program:s,uniforms:n,enabled:r,textureUniform:i};return this.passes.push(o),o}resize({width:t,height:e,dpr:n}={}){n&&(this.dpr=n),t&&(this.width=t,this.height=e||t),n=this.dpr||this.gl.renderer.dpr,t=(this.width||this.gl.renderer.width)*n,e=(this.height||this.gl.renderer.height)*n,this.options.width=t,this.options.height=e,this.fbo.read=new $r(this.gl,this.options),this.fbo.write=new $r(this.gl,this.options)}render({scene:t,camera:e,target:n=null,update:i=!0,sort:r=!0,frustumCull:s=!0}){const o=this.passes.filter((t=>t.enabled));this.gl.renderer.render({scene:t,camera:e,target:o.length||!n&&this.targetOnly?this.fbo.write:n,update:i,sort:r,frustumCull:s}),this.fbo.swap(),o.forEach(((t,e)=>{t.mesh.program.uniforms[t.textureUniform].value=this.fbo.read.texture,this.gl.renderer.render({scene:t.mesh,target:e!==o.length-1||!n&&this.targetOnly?this.fbo.write:n,clear:!0}),this.fbo.swap()})),this.uniform.value=this.fbo.read.texture}}const hs="\n    attribute vec2 uv;\n    attribute vec2 position;\n\n    varying vec2 vUv;\n\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 0, 1);\n    }\n",ds="\n    precision highp float;\n\n    uniform sampler2D tMap;\n    varying vec2 vUv;\n\n    void main() {\n        gl_FragColor = texture2D(tMap, vUv);\n    }\n";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function ps(t){var e={exports:{}};return t(e,e.exports),e.exports
/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */}var fs=ps((function(t,e){t.exports=function(t,e,n,i){var r={features:null,bind:function(t,e,n,i){var r=(i?"remove":"add")+"EventListener";e=e.split(" ");for(var s=0;s<e.length;s++)e[s]&&t[r](e[s],n,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var n=document.createElement(e||"div");return t&&(n.className=t),n},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,n){r.bind(t,e,n,!0)},removeClass:function(t,e){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){r.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var n=t.firstChild;n;){if(r.hasClass(n,e))return n;n=n.nextSibling}},arraySearch:function(t,e,n){for(var i=t.length;i--;)if(t[i][n]===e)return i;return-1},extend:function(t,e,n){for(var i in e)if(e.hasOwnProperty(i)){if(n&&t.hasOwnProperty(i))continue;t[i]=e[i]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(r.features)return r.features;var t=r.createEl().style,e="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var s=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);s&&s.length>0&&(s=parseInt(s[1],10))>=1&&s<8&&(n.isOldIOSPhone=!0)}var o=i.match(/Android\s([0-9\.]*)/),a=o?o[1]:0;(a=parseFloat(a))>=1&&(a<4.4&&(n.isOldAndroid=!0),n.androidVersion=a),n.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var l,u,c=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],d=0;d<4;d++){e=h[d];for(var p=0;p<3;p++)l=c[p],u=e+(e?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&u in t&&(n[l]=u);e&&!n.raf&&(e=e.toLowerCase(),n.raf=window[e+"RequestAnimationFrame"],n.raf&&(n.caf=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]))}if(!n.raf){var f=0;n.raf=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-f)),i=window.setTimeout((function(){t(e+n)}),n);return f=e+n,i},n.caf=function(t){clearTimeout(t)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r.features=n,n}};r.detectFeatures(),r.features.oldIE&&(r.bind=function(t,e,n,i){e=e.split(" ");for(var r,s=(i?"detach":"attach")+"Event",o=function(){n.handleEvent.call(n)},a=0;a<e.length;a++)if(r=e[a])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+r])return!1}else n["oldIE"+r]=o;t[s]("on"+r,n["oldIE"+r])}else t[s]("on"+r,n)});var s=this,o=25,a=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t||e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};r.extend(l,i);var u,c,h,d,p,f,m,g,v,y,x,b,w,_,E,A,C,M,T,F,S,I,R,O,D,P,L,N,k,U,z,B,V,Z,q,G,W,j,H,X,Y,$,K,Q,J,tt,et,nt,it,rt,st,ot,at,lt,ut,ct,ht=function(){return{x:0,y:0}},dt=ht(),pt=ht(),ft=ht(),mt={},gt=0,vt={},yt=ht(),xt=0,bt=!0,wt=[],_t={},Et=!1,At=function(t,e){r.extend(s,e.publicMethods),wt.push(t)},Ct=function(t){var e=Je();return t>e-1?t-e:t<0?e+t:t},Mt={},Tt=function(t,e){return Mt[t]||(Mt[t]=[]),Mt[t].push(e)},Ft=function(t){var e=Mt[t];if(e){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<e.length;i++)e[i].apply(s,n)}},St=function(){return(new Date).getTime()},It=function(t){lt=t,s.bg.style.opacity=t*l.bgOpacity},Rt=function(t,e,n,i,r){(!Et||r&&r!==s.currItem)&&(i/=r?r.fitRatio:s.currItem.fitRatio),t[I]=b+e+"px, "+n+"px"+w+" scale("+i+")"},Ot=function(t){it&&(t&&(y>s.currItem.fitRatio?Et||(hn(s.currItem,!1,!0),Et=!0):Et&&(hn(s.currItem),Et=!1)),Rt(it,ft.x,ft.y,y))},Dt=function(t){t.container&&Rt(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Pt=function(t,e){e[I]=b+t+"px, 0px"+w},Lt=function(t,e){if(!l.loop&&e){var n=d+(yt.x*gt-t)/yt.x,i=Math.round(t-ye.x);(n<0&&i>0||n>=Je()-1&&i<0)&&(t=ye.x+i*l.mainScrollEndFriction)}ye.x=t,Pt(t,p)},Nt=function(t,e){var n=xe[t]-vt[t];return pt[t]+dt[t]+n-n*(e/x)},kt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Ut=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},zt=null,Bt=function(){zt&&(r.unbind(document,"mousemove",Bt),r.addClass(t,"pswp--has_mouse"),l.mouseUsed=!0,Ft("mouseUsed")),zt=setTimeout((function(){zt=null}),100)},Vt=function(){r.bind(document,"keydown",s),z.transform&&r.bind(s.scrollWrap,"click",s),l.mouseUsed||r.bind(document,"mousemove",Bt),r.bind(window,"resize scroll orientationchange",s),Ft("bindEvents")},Zt=function(){r.unbind(window,"resize scroll orientationchange",s),r.unbind(window,"scroll",v.scroll),r.unbind(document,"keydown",s),r.unbind(document,"mousemove",Bt),z.transform&&r.unbind(s.scrollWrap,"click",s),H&&r.unbind(window,m,s),clearTimeout(B),Ft("unbindEvents")},qt=function(t,e){var n=an(s.currItem,mt,t);return e&&(nt=n),n},Gt=function(t){return t||(t=s.currItem),t.initialZoomLevel},Wt=function(t){return t||(t=s.currItem),t.w>0?l.maxSpreadZoom:1},jt=function(t,e,n,i){return i===s.currItem.initialZoomLevel?(n[t]=s.currItem.initialPosition[t],!0):(n[t]=Nt(t,i),n[t]>e.min[t]?(n[t]=e.min[t],!0):n[t]<e.max[t]&&(n[t]=e.max[t],!0))},Ht=function(){if(I){var e=z.perspective&&!O;return b="translate"+(e?"3d(":"("),void(w=z.perspective?", 0px)":")")}I="left",r.addClass(t,"pswp--ie"),Pt=function(t,e){e.left=t+"px"},Dt=function(t){var e=t.fitRatio>1?1:t.fitRatio,n=t.container.style,i=e*t.w,r=e*t.h;n.width=i+"px",n.height=r+"px",n.left=t.initialPosition.x+"px",n.top=t.initialPosition.y+"px"},Ot=function(){if(it){var t=it,e=s.currItem,n=e.fitRatio>1?1:e.fitRatio,i=n*e.w,r=n*e.h;t.width=i+"px",t.height=r+"px",t.left=ft.x+"px",t.top=ft.y+"px"}}},Xt=function(t){var e="";l.escKey&&27===t.keyCode?e="close":l.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,s[e]()))},Yt=function(t){t&&($||Y||rt||W)&&(t.preventDefault(),t.stopPropagation())},$t=function(){s.setScrollOffset(0,r.getScrollY())},Kt={},Qt=0,Jt=function(t){Kt[t]&&(Kt[t].raf&&P(Kt[t].raf),Qt--,delete Kt[t])},te=function(t){Kt[t]&&Jt(t),Kt[t]||(Qt++,Kt[t]={})},ee=function(){for(var t in Kt)Kt.hasOwnProperty(t)&&Jt(t)},ne=function(t,e,n,i,r,s,o){var a,l=St();te(t);var u=function(){if(Kt[t]){if((a=St()-l)>=i)return Jt(t),s(n),void(o&&o());s((n-e)*r(a/i)+e),Kt[t].raf=D(u)}};u()},ie={shout:Ft,listen:Tt,viewportSize:mt,options:l,isMainScrollAnimating:function(){return rt},getZoomLevel:function(){return y},getCurrentIndex:function(){return d},isDragging:function(){return H},isZooming:function(){return tt},setScrollOffset:function(t,e){vt.x=t,U=vt.y=e,Ft("updateScrollOffset",vt)},applyZoomPan:function(t,e,n,i){ft.x=e,ft.y=n,y=t,Ot(i)},init:function(){if(!u&&!c){var n;s.framework=r,s.template=t,s.bg=r.getChildByClass(t,"pswp__bg"),L=t.className,u=!0,z=r.detectFeatures(),D=z.raf,P=z.caf,I=z.transform,k=z.oldIE,s.scrollWrap=r.getChildByClass(t,"pswp__scroll-wrap"),s.container=r.getChildByClass(s.scrollWrap,"pswp__container"),p=s.container.style,s.itemHolders=A=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],A[0].el.style.display=A[2].el.style.display="none",Ht(),v={resize:s.updateSize,orientationchange:function(){clearTimeout(B),B=setTimeout((function(){mt.x!==s.scrollWrap.clientWidth&&s.updateSize()}),500)},scroll:$t,keydown:Xt,click:Yt};var i=z.isOldIOSPhone||z.isOldAndroid||z.isMobileOpera;for(z.animationName&&z.transform&&!i||(l.showAnimationDuration=l.hideAnimationDuration=0),n=0;n<wt.length;n++)s["init"+wt[n]]();e&&(s.ui=new e(s,r)).init(),Ft("firstUpdate"),d=d||l.index||0,(isNaN(d)||d<0||d>=Je())&&(d=0),s.currItem=Qe(d),(z.isOldIOSPhone||z.isOldAndroid)&&(bt=!1),t.setAttribute("aria-hidden","false"),l.modal&&(bt?t.style.position="fixed":(t.style.position="absolute",t.style.top=r.getScrollY()+"px")),void 0===U&&(Ft("initialLayout"),U=N=r.getScrollY());var o="pswp--open ";for(l.mainClass&&(o+=l.mainClass+" "),l.showHideOpacity&&(o+="pswp--animate_opacity "),o+=O?"pswp--touch":"pswp--notouch",o+=z.animationName?" pswp--css_animation":"",o+=z.svg?" pswp--svg":"",r.addClass(t,o),s.updateSize(),f=-1,xt=null,n=0;n<a;n++)Pt((n+f)*yt.x,A[n].el.style);k||r.bind(s.scrollWrap,g,s),Tt("initialZoomInEnd",(function(){s.setContent(A[0],d-1),s.setContent(A[2],d+1),A[0].el.style.display=A[2].el.style.display="block",l.focus&&t.focus(),Vt()})),s.setContent(A[1],d),s.updateCurrItem(),Ft("afterInit"),bt||(_=setInterval((function(){Qt||H||tt||y!==s.currItem.initialZoomLevel||s.updateSize()}),1e3)),r.addClass(t,"pswp--visible")}},close:function(){u&&(u=!1,c=!0,Ft("close"),Zt(),tn(s.currItem,null,!0,s.destroy))},destroy:function(){Ft("destroy"),Xe&&clearTimeout(Xe),t.setAttribute("aria-hidden","true"),t.className=L,_&&clearInterval(_),r.unbind(s.scrollWrap,g,s),r.unbind(window,"scroll",s),Ae(),ee(),Mt=null},panTo:function(t,e,n){n||(t>nt.min.x?t=nt.min.x:t<nt.max.x&&(t=nt.max.x),e>nt.min.y?e=nt.min.y:e<nt.max.y&&(e=nt.max.y)),ft.x=t,ft.y=e,Ot()},handleEvent:function(t){t=t||window.event,v[t.type]&&v[t.type](t)},goTo:function(t){var e=(t=Ct(t))-d;xt=e,d=t,s.currItem=Qe(d),gt-=e,Lt(yt.x*gt),ee(),rt=!1,s.updateCurrItem()},next:function(){s.goTo(d+1)},prev:function(){s.goTo(d-1)},updateCurrZoomItem:function(t){if(t&&Ft("beforeChange",0),A[1].el.children.length){var e=A[1].el.children[0];it=r.hasClass(e,"pswp__zoom-wrap")?e.style:null}else it=null;nt=s.currItem.bounds,x=y=s.currItem.initialZoomLevel,ft.x=nt.center.x,ft.y=nt.center.y,t&&Ft("afterChange")},invalidateCurrItems:function(){E=!0;for(var t=0;t<a;t++)A[t].item&&(A[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==xt){var e,n=Math.abs(xt);if(!(t&&n<2)){s.currItem=Qe(d),Et=!1,Ft("beforeChange",xt),n>=a&&(f+=xt+(xt>0?-a:a),n=a);for(var i=0;i<n;i++)xt>0?(e=A.shift(),A[a-1]=e,f++,Pt((f+2)*yt.x,e.el.style),s.setContent(e,d-n+i+1+1)):(e=A.pop(),A.unshift(e),f--,Pt(f*yt.x,e.el.style),s.setContent(e,d+n-i-1-1));if(it&&1===Math.abs(xt)){var r=Qe(C);r.initialZoomLevel!==y&&(an(r,mt),hn(r),Dt(r))}xt=0,s.updateCurrZoomItem(),C=d,Ft("afterChange")}}},updateSize:function(e){if(!bt&&l.modal){var n=r.getScrollY();if(U!==n&&(t.style.top=n+"px",U=n),!e&&_t.x===window.innerWidth&&_t.y===window.innerHeight)return;_t.x=window.innerWidth,_t.y=window.innerHeight,t.style.height=_t.y+"px"}if(mt.x=s.scrollWrap.clientWidth,mt.y=s.scrollWrap.clientHeight,$t(),yt.x=mt.x+Math.round(mt.x*l.spacing),yt.y=mt.y,Lt(yt.x*gt),Ft("beforeResize"),void 0!==f){for(var i,o,u,c=0;c<a;c++)i=A[c],Pt((c+f)*yt.x,i.el.style),u=d+c-1,l.loop&&Je()>2&&(u=Ct(u)),(o=Qe(u))&&(E||o.needsUpdate||!o.bounds)?(s.cleanSlide(o),s.setContent(i,u),1===c&&(s.currItem=o,s.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===i.index&&u>=0&&s.setContent(i,u),o&&o.container&&(an(o,mt),hn(o),Dt(o));E=!1}x=y=s.currItem.initialZoomLevel,(nt=s.currItem.bounds)&&(ft.x=nt.center.x,ft.y=nt.center.y,Ot(!0)),Ft("resize")},zoomTo:function(t,e,n,i,s){e&&(x=y,xe.x=Math.abs(e.x)-ft.x,xe.y=Math.abs(e.y)-ft.y,kt(pt,ft));var o=qt(t,!1),a={};jt("x",o,a,t),jt("y",o,a,t);var l=y,u={x:ft.x,y:ft.y};Ut(a);var c=function(e){1===e?(y=t,ft.x=a.x,ft.y=a.y):(y=(t-l)*e+l,ft.x=(a.x-u.x)*e+u.x,ft.y=(a.y-u.y)*e+u.y),s&&s(e),Ot(1===e)};n?ne("customZoomTo",0,1,n,i||r.easing.sine.inOut,c):c(1)}},re=30,se=10,oe={},ae={},le={},ue={},ce={},he=[],de={},pe=[],fe={},me=0,ge=ht(),ve=0,ye=ht(),xe=ht(),be=ht(),we=function(t,e){return t.x===e.x&&t.y===e.y},_e=function(t,e){return Math.abs(t.x-e.x)<o&&Math.abs(t.y-e.y)<o},Ee=function(t,e){return fe.x=Math.abs(t.x-e.x),fe.y=Math.abs(t.y-e.y),Math.sqrt(fe.x*fe.x+fe.y*fe.y)},Ae=function(){K&&(P(K),K=null)},Ce=function(){H&&(K=D(Ce),Ve())},Me=function(){return!("fit"===l.scaleMode&&y===s.currItem.initialZoomLevel)},Te=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(e(t)?t:Te(t.parentNode,e))},Fe={},Se=function(t,e){return Fe.prevent=!Te(t.target,l.isClickableElement),Ft("preventDragEvent",t,e,Fe),Fe.prevent},Ie=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},Re=function(t,e,n){n.x=.5*(t.x+e.x),n.y=.5*(t.y+e.y)},Oe=function(t,e,n){if(t-Z>50){var i=pe.length>2?pe.shift():{};i.x=e,i.y=n,pe.push(i),Z=t}},De=function(){var t=ft.y-s.currItem.initialPosition.y;return 1-Math.abs(t/(mt.y/2))},Pe={},Le={},Ne=[],ke=function(t){for(;Ne.length>0;)Ne.pop();return R?(ct=0,he.forEach((function(t){0===ct?Ne[0]=t:1===ct&&(Ne[1]=t),ct++}))):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(Ne[0]=Ie(t.touches[0],Pe),t.touches.length>1&&(Ne[1]=Ie(t.touches[1],Le))):(Pe.x=t.pageX,Pe.y=t.pageY,Pe.id="",Ne[0]=Pe),Ne},Ue=function(t,e){var n,i,r,o,a=ft[t]+e[t],u=e[t]>0,c=ye.x+e.x,h=ye.x-de.x;if(n=a>nt.min[t]||a<nt.max[t]?l.panEndFriction:1,a=ft[t]+e[t]*n,(l.allowPanToNext||y===s.currItem.initialZoomLevel)&&(it?"h"!==st||"x"!==t||Y||(u?(a>nt.min[t]&&(n=l.panEndFriction,nt.min[t],i=nt.min[t]-pt[t]),(i<=0||h<0)&&Je()>1?(o=c,h<0&&c>de.x&&(o=de.x)):nt.min.x!==nt.max.x&&(r=a)):(a<nt.max[t]&&(n=l.panEndFriction,nt.max[t],i=pt[t]-nt.max[t]),(i<=0||h>0)&&Je()>1?(o=c,h>0&&c<de.x&&(o=de.x)):nt.min.x!==nt.max.x&&(r=a))):o=c,"x"===t))return void 0!==o&&(Lt(o,!0),Q=o!==de.x),nt.min.x!==nt.max.x&&(void 0!==r?ft.x=r:Q||(ft.x+=e.x*n)),void 0!==o;rt||Q||y>s.currItem.fitRatio&&(ft[t]+=e[t]*n)},ze=function(t){if(!("mousedown"===t.type&&t.button>0))if(Ke)t.preventDefault();else if(!j||"mousedown"!==t.type){if(Se(t,!0)&&t.preventDefault(),Ft("pointerDown"),R){var e=r.arraySearch(he,t.pointerId,"id");e<0&&(e=he.length),he[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var n=ke(t),i=n.length;J=null,ee(),H&&1!==i||(H=ot=!0,r.bind(window,m,s),G=ut=at=W=Q=$=X=Y=!1,st=null,Ft("firstTouchStart",n),kt(pt,ft),dt.x=dt.y=0,kt(ue,n[0]),kt(ce,ue),de.x=yt.x*gt,pe=[{x:ue.x,y:ue.y}],Z=V=St(),qt(y,!0),Ae(),Ce()),!tt&&i>1&&!rt&&!Q&&(x=y,Y=!1,tt=X=!0,dt.y=dt.x=0,kt(pt,ft),kt(oe,n[0]),kt(ae,n[1]),Re(oe,ae,be),xe.x=Math.abs(be.x)-ft.x,xe.y=Math.abs(be.y)-ft.y,et=Ee(oe,ae))}},Be=function(t){if(t.preventDefault(),R){var e=r.arraySearch(he,t.pointerId,"id");if(e>-1){var n=he[e];n.x=t.pageX,n.y=t.pageY}}if(H){var i=ke(t);if(st||$||tt)J=i;else if(ye.x!==yt.x*gt)st="h";else{var s=Math.abs(i[0].x-ue.x)-Math.abs(i[0].y-ue.y);Math.abs(s)>=se&&(st=s>0?"h":"v",J=i)}}},Ve=function(){if(J){var t=J.length;if(0!==t)if(kt(oe,J[0]),le.x=oe.x-ue.x,le.y=oe.y-ue.y,tt&&t>1){if(ue.x=oe.x,ue.y=oe.y,!le.x&&!le.y&&we(J[1],ae))return;kt(ae,J[1]),Y||(Y=!0,Ft("zoomGestureStarted"));var e=Ee(oe,ae),n=je(e);n>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(ut=!0);var i=1,r=Gt(),o=Wt();if(n<r)if(l.pinchToClose&&!ut&&x<=s.currItem.initialZoomLevel){var a=1-(r-n)/(r/1.2);It(a),Ft("onPinchClose",a),at=!0}else(i=(r-n)/r)>1&&(i=1),n=r-i*(r/3);else n>o&&((i=(n-o)/(6*r))>1&&(i=1),n=o+i*r);i<0&&(i=0),Re(oe,ae,ge),dt.x+=ge.x-be.x,dt.y+=ge.y-be.y,kt(be,ge),ft.x=Nt("x",n),ft.y=Nt("y",n),G=n>y,y=n,Ot()}else{if(!st)return;if(ot&&(ot=!1,Math.abs(le.x)>=se&&(le.x-=J[0].x-ce.x),Math.abs(le.y)>=se&&(le.y-=J[0].y-ce.y)),ue.x=oe.x,ue.y=oe.y,0===le.x&&0===le.y)return;if("v"===st&&l.closeOnVerticalDrag&&!Me()){dt.y+=le.y,ft.y+=le.y;var u=De();return W=!0,Ft("onVerticalDrag",u),It(u),void Ot()}Oe(St(),oe.x,oe.y),$=!0,nt=s.currItem.bounds,Ue("x",le)||(Ue("y",le),Ut(ft),Ot())}}},Ze=function(t){if(z.isOldAndroid){if(j&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(j),j=setTimeout((function(){j=0}),600))}var e;if(Ft("pointerUp"),Se(t,!1)&&t.preventDefault(),R){var n=r.arraySearch(he,t.pointerId,"id");if(n>-1)if(e=he.splice(n,1)[0],navigator.msPointerEnabled){var i={4:"mouse",2:"touch",3:"pen"};e.type=i[t.pointerType],e.type||(e.type=t.pointerType||"mouse")}else e.type=t.pointerType||"mouse"}var o,a=ke(t),u=a.length;if("mouseup"===t.type&&(u=0),2===u)return J=null,!0;1===u&&kt(ce,a[0]),0!==u||st||rt||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),Ft("touchRelease",t,e));var c=-1;if(0===u&&(H=!1,r.unbind(window,m,s),Ae(),tt?c=0:-1!==ve&&(c=St()-ve)),ve=1===u?St():-1,o=-1!==c&&c<150?"zoom":"swipe",tt&&u<2&&(tt=!1,1===u&&(o="zoomPointerUp"),Ft("zoomGestureEnded")),J=null,$||Y||rt||W)if(ee(),q||(q=qe()),q.calculateSwipeSpeed("x"),W)if(De()<l.verticalDragRange)s.close();else{var h=ft.y,d=lt;ne("verticalDrag",0,1,300,r.easing.cubic.out,(function(t){ft.y=(s.currItem.initialPosition.y-h)*t+h,It((1-d)*t+d),Ot()})),Ft("onVerticalDrag",1)}else{if((Q||rt)&&0===u){if(We(o,q))return;o="zoomPointerUp"}rt||("swipe"===o?!Q&&y>s.currItem.fitRatio&&Ge(q):He())}},qe=function(){var t,e,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){pe.length>1?(t=St()-Z+50,e=pe[pe.length-2][i]):(t=St()-V,e=ce[i]),n.lastFlickOffset[i]=ue[i]-e,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/t:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(t,e){n.backAnimStarted[t]||(ft[t]>nt.min[t]?n.backAnimDestination[t]=nt.min[t]:ft[t]<nt.max[t]&&(n.backAnimDestination[t]=nt.max[t]),void 0!==n.backAnimDestination[t]&&(n.slowDownRatio[t]=.7,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatioAbs[t]<.05&&(n.lastFlickSpeed[t]=0,n.backAnimStarted[t]=!0,ne("bounceZoomPan"+t,ft[t],n.backAnimDestination[t],e||300,r.easing.sine.out,(function(e){ft[t]=e,Ot()})))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,ft[t]+=n.distanceOffset[t])},panAnimLoop:function(){if(Kt.zoomPan&&(Kt.zoomPan.raf=D(n.panAnimLoop),n.now=St(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Ot(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return ft.x=Math.round(ft.x),ft.y=Math.round(ft.y),Ot(),void Jt("zoomPan")}};return n},Ge=function(t){if(t.calculateSwipeSpeed("y"),nt=s.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05)return t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0;te("zoomPan"),t.lastNow=St(),t.panAnimLoop()},We=function(t,e){var n,i,o;if(rt||(me=d),"swipe"===t){var a=ue.x-ce.x,u=e.lastFlickDist.x<10;a>re&&(u||e.lastFlickOffset.x>20)?i=-1:a<-re&&(u||e.lastFlickOffset.x<-20)&&(i=1)}i&&((d+=i)<0?(d=l.loop?Je()-1:0,o=!0):d>=Je()&&(d=l.loop?0:Je()-1,o=!0),o&&!l.loop||(xt+=i,gt-=i,n=!0));var c,h=yt.x*gt,p=Math.abs(h-ye.x);return n||h>ye.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?p/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,me===d&&(n=!1),rt=!0,Ft("mainScrollAnimStart"),ne("mainScroll",ye.x,h,c,r.easing.cubic.out,Lt,(function(){ee(),rt=!1,me=-1,(n||me!==d)&&s.updateCurrItem(),Ft("mainScrollAnimComplete")})),n&&s.updateCurrItem(!0),n},je=function(t){return 1/et*t*x},He=function(){var t=y,e=Gt(),n=Wt();y<e?t=e:y>n&&(t=n);var i,o=1,a=lt;return at&&!G&&!ut&&y<e?(s.close(),!0):(at&&(i=function(t){It((o-a)*t+a)}),s.zoomTo(t,0,200,r.easing.cubic.out,i),!0)};At("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,n,i,r){M=t+e,T=t+n,F=t+i,S=r?t+r:""};(R=z.pointerEvent)&&z.touch&&(z.touch=!1),R?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):z.touch?(t("touch","start","move","end","cancel"),O=!0):t("mouse","down","move","up"),m=T+" "+F+" "+S,g=M,R&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=O,v[M]=ze,v[T]=Be,v[F]=Ze,S&&(v[S]=v[F]),z.touch&&(g+=" mousedown",m+=" mousemove mouseup",v.mousedown=v[M],v.mousemove=v[T],v.mouseup=v[F]),O||(l.allowPanToNext=!1)}}});var Xe,Ye,$e,Ke,Qe,Je,tn=function(e,n,i,o){var a;Xe&&clearTimeout(Xe),Ke=!0,$e=!0,e.initialLayout?(a=e.initialLayout,e.initialLayout=null):a=l.getThumbBoundsFn&&l.getThumbBoundsFn(d);var u,c,p=i?l.hideAnimationDuration:l.showAnimationDuration,f=function(){Jt("initialZoom"),i?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(It(1),n&&(n.style.display="block"),r.addClass(t,"pswp--animated-in"),Ft("initialZoom"+(i?"OutEnd":"InEnd"))),o&&o(),Ke=!1};if(!p||!a||void 0===a.x)return Ft("initialZoom"+(i?"Out":"In")),y=e.initialZoomLevel,kt(ft,e.initialPosition),Ot(),t.style.opacity=i?0:1,It(1),void(p?setTimeout((function(){f()}),p):f());u=h,c=!s.currItem.src||s.currItem.loadError||l.showHideOpacity,e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),i||(y=a.w/e.w,ft.x=a.x,ft.y=a.y-N,s[c?"template":"bg"].style.opacity=.001,Ot()),te("initialZoom"),i&&!u&&r.removeClass(t,"pswp--animated-in"),c&&(i?r[(u?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout((function(){r.addClass(t,"pswp--animate_opacity")}),30)),Xe=setTimeout((function(){if(Ft("initialZoom"+(i?"Out":"In")),i){var n=a.w/e.w,s={x:ft.x,y:ft.y},o=y,l=lt,h=function(e){1===e?(y=n,ft.x=a.x,ft.y=a.y-U):(y=(n-o)*e+o,ft.x=(a.x-s.x)*e+s.x,ft.y=(a.y-U-s.y)*e+s.y),Ot(),c?t.style.opacity=1-e:It(l-e*l)};u?ne("initialZoom",0,1,p,r.easing.cubic.out,h,f):(h(1),Xe=setTimeout(f,p+20))}else y=e.initialZoomLevel,kt(ft,e.initialPosition),Ot(),It(1),c?t.style.opacity=1:It(1),Xe=setTimeout(f,p+20)}),i?25:90)},en={},nn=[],rn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ye.length}},sn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},on=function(t,e,n){var i=t.bounds;i.center.x=Math.round((en.x-e)/2),i.center.y=Math.round((en.y-n)/2)+t.vGap.top,i.max.x=e>en.x?Math.round(en.x-e):i.center.x,i.max.y=n>en.y?Math.round(en.y-n)+t.vGap.top:i.center.y,i.min.x=e>en.x?0:i.center.x,i.min.y=n>en.y?t.vGap.top:i.center.y},an=function(t,e,n){if(t.src&&!t.loadError){var i=!n;if(i&&(t.vGap||(t.vGap={top:0,bottom:0}),Ft("parseVerticalMargin",t)),en.x=e.x,en.y=e.y-t.vGap.top-t.vGap.bottom,i){var r=en.x/t.w,s=en.y/t.h;t.fitRatio=r<s?r:s;var o=l.scaleMode;"orig"===o?n=1:"fit"===o&&(n=t.fitRatio),n>1&&(n=1),t.initialZoomLevel=n,t.bounds||(t.bounds=sn())}if(!n)return;return on(t,t.w*n,t.h*n),i&&n===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=sn(),t.initialPosition=t.bounds.center,t.bounds},ln=function(t,e,n,i,r,o){e.loadError||i&&(e.imageAppended=!0,hn(e,i,e===s.currItem&&Et),n.appendChild(i),o&&setTimeout((function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)}),500))},un=function(t){t.loading=!0,t.loaded=!1;var e=t.img=r.createEl("pswp__img","img"),n=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=n,e.onerror=function(){t.loadError=!0,n()},e.src=t.src,e},cn=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=l.errorMsg.replace("%url%",t.src),!0},hn=function(t,e,n){if(t.src){e||(e=t.container.lastChild);var i=n?t.w:Math.round(t.w*t.fitRatio),r=n?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=i+"px",t.placeholder.style.height=r+"px"),e.style.width=i+"px",e.style.height=r+"px"}},dn=function(){if(nn.length){for(var t,e=0;e<nn.length;e++)(t=nn[e]).holder.index===t.index&&ln(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);nn=[]}};At("Controller",{publicMethods:{lazyLoadItem:function(t){t=Ct(t);var e=Qe(t);e&&(!e.loaded&&!e.loading||E)&&(Ft("gettingData",t,e),e.src&&un(e))},initController:function(){r.extend(l,rn,!0),s.items=Ye=n,Qe=s.getItemAt,(Je=l.getNumItemsFn)()<3&&(l.loop=!1),Tt("beforeChange",(function(t){var e,n=l.preload,i=null===t||t>=0,r=Math.min(n[0],Je()),o=Math.min(n[1],Je());for(e=1;e<=(i?o:r);e++)s.lazyLoadItem(d+e);for(e=1;e<=(i?r:o);e++)s.lazyLoadItem(d-e)})),Tt("initialLayout",(function(){s.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(d)})),Tt("mainScrollAnimComplete",dn),Tt("initialZoomInEnd",dn),Tt("destroy",(function(){for(var t,e=0;e<Ye.length;e++)(t=Ye[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);nn=null}))},getItemAt:function(t){return t>=0&&void 0!==Ye[t]&&Ye[t]},allowProgressiveImg:function(){return l.forceProgressiveLoading||!O||l.mouseUsed||screen.width>1200},setContent:function(t,e){l.loop&&(e=Ct(e));var n=s.getItemAt(t.index);n&&(n.container=null);var i,o=s.getItemAt(e);if(o){Ft("gettingData",e,o),t.index=e,t.item=o;var a=o.container=r.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?a.appendChild(o.html):a.innerHTML=o.html),cn(o),an(o,mt),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&((i=r.createEl("pswp__img","img")).style.opacity=1,i.src=o.src,hn(o,i),ln(e,o,a,i));else{if(o.loadComplete=function(n){if(u){if(t&&t.index===e){if(cn(n,!0))return n.loadComplete=n.img=null,an(n,mt),Dt(n),void(t.index===d&&s.updateCurrZoomItem());n.imageAppended?!Ke&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):z.transform&&(rt||Ke)?nn.push({item:n,baseDiv:a,img:n.img,index:e,holder:t,clearPlaceholder:!0}):ln(e,n,a,n.img,rt||Ke,!0)}n.loadComplete=null,n.img=null,Ft("imageLoadComplete",e,n)}},r.features.transform){var c="pswp__img pswp__img--placeholder";c+=o.msrc?"":" pswp__img--placeholder--blank";var h=r.createEl(c,o.msrc?"img":"");o.msrc&&(h.src=o.msrc),hn(o,h),a.appendChild(h),o.placeholder=h}o.loading||un(o),s.allowProgressiveImg()&&(!$e&&z.transform?nn.push({item:o,baseDiv:a,img:o.img,index:e,holder:t}):ln(e,o,a,o.img,!0,!0))}$e||e!==d?Dt(o):(it=a.style,tn(o,i||o.img)),t.el.innerHTML="",t.el.appendChild(a)}else t.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var pn,fn,mn={},gn=function(t,e,n){var i=document.createEvent("CustomEvent"),r={origEvent:t,target:t.target,releasePoint:e,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,r),t.target.dispatchEvent(i)};At("Tap",{publicMethods:{initTap:function(){Tt("firstTouchStart",s.onTapStart),Tt("touchRelease",s.onTapRelease),Tt("destroy",(function(){mn={},pn=null}))},onTapStart:function(t){t.length>1&&(clearTimeout(pn),pn=null)},onTapRelease:function(t,e){if(e&&!$&&!X&&!Qt){var n=e;if(pn&&(clearTimeout(pn),pn=null,_e(n,mn)))return void Ft("doubleTap",n);if("mouse"===e.type)return void gn(t,e,"mouse");if("BUTTON"===t.target.tagName.toUpperCase()||r.hasClass(t.target,"pswp__single-tap"))return void gn(t,e);kt(mn,n),pn=setTimeout((function(){gn(t,e),pn=null}),300)}}}}),At("DesktopZoom",{publicMethods:{initDesktopZoom:function(){k||(O?Tt("mouseUsed",(function(){s.setupDesktopZoom()})):s.setupDesktopZoom(!0))},setupDesktopZoom:function(e){fn={};var n="wheel mousewheel DOMMouseScroll";Tt("bindEvents",(function(){r.bind(t,n,s.handleMouseWheel)})),Tt("unbindEvents",(function(){fn&&r.unbind(t,n,s.handleMouseWheel)})),s.mouseZoomedIn=!1;var i,o=function(){s.mouseZoomedIn&&(r.removeClass(t,"pswp--zoomed-in"),s.mouseZoomedIn=!1),y<1?r.addClass(t,"pswp--zoom-allowed"):r.removeClass(t,"pswp--zoom-allowed"),a()},a=function(){i&&(r.removeClass(t,"pswp--dragging"),i=!1)};Tt("resize",o),Tt("afterChange",o),Tt("pointerDown",(function(){s.mouseZoomedIn&&(i=!0,r.addClass(t,"pswp--dragging"))})),Tt("pointerUp",a),e||o()},handleMouseWheel:function(t){if(y<=s.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Qt||H?t.preventDefault():I&&Math.abs(t.deltaY)>2&&(h=!0,s.close())),!0;if(t.stopPropagation(),fn.x=0,"deltaX"in t)1===t.deltaMode?(fn.x=18*t.deltaX,fn.y=18*t.deltaY):(fn.x=t.deltaX,fn.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(fn.x=-.16*t.wheelDeltaX),t.wheelDeltaY?fn.y=-.16*t.wheelDeltaY:fn.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;fn.y=t.detail}qt(y,!0);var e=ft.x-fn.x,n=ft.y-fn.y;(l.modal||e<=nt.min.x&&e>=nt.max.x&&n<=nt.min.y&&n>=nt.max.y)&&t.preventDefault(),s.panTo(e,n)},toggleDesktopZoom:function(e){e=e||{x:mt.x/2+vt.x,y:mt.y/2+vt.y};var n=l.getDoubleTapZoom(!0,s.currItem),i=y===n;s.mouseZoomedIn=!i,s.zoomTo(i?s.currItem.initialZoomLevel:n,e,333),r[(i?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var vn,yn,xn,bn,wn,_n,En,An,Cn,Mn,Tn,Fn,Sn={history:!0,galleryUID:1},In=function(){return Tn.hash.substring(1)},Rn=function(){vn&&clearTimeout(vn),xn&&clearTimeout(xn)},On=function(){var t=In(),e={};if(t.length<5)return e;var n,i=t.split("&");for(n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(e[r[0]]=r[1])}if(l.galleryPIDs){var s=e.pid;for(e.pid=0,n=0;n<Ye.length;n++)if(Ye[n].pid===s){e.pid=n;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},Dn=function(){if(xn&&clearTimeout(xn),Qt||H)xn=setTimeout(Dn,500);else{bn?clearTimeout(yn):bn=!0;var t=d+1,e=Qe(d);e.hasOwnProperty("pid")&&(t=e.pid);var n=En+"&gid="+l.galleryUID+"&pid="+t;An||-1===Tn.hash.indexOf(n)&&(Mn=!0);var i=Tn.href.split("#")[0]+"#"+n;Fn?"#"+n!==window.location.hash&&history[An?"replaceState":"pushState"]("",document.title,i):An?Tn.replace(i):Tn.hash=n,An=!0,yn=setTimeout((function(){bn=!1}),60)}};At("History",{publicMethods:{initHistory:function(){if(r.extend(l,Sn,!0),l.history){Tn=window.location,Mn=!1,Cn=!1,An=!1,En=In(),Fn="pushState"in history,En.indexOf("gid=")>-1&&(En=(En=En.split("&gid=")[0]).split("?gid=")[0]),Tt("afterChange",s.updateURL),Tt("unbindEvents",(function(){r.unbind(window,"hashchange",s.onHashChange)}));var t=function(){_n=!0,Cn||(Mn?history.back():En?Tn.hash=En:Fn?history.pushState("",document.title,Tn.pathname+Tn.search):Tn.hash=""),Rn()};Tt("unbindEvents",(function(){h&&t()})),Tt("destroy",(function(){_n||t()})),Tt("firstUpdate",(function(){d=On().pid}));var e=En.indexOf("pid=");e>-1&&"&"===(En=En.substring(0,e)).slice(-1)&&(En=En.slice(0,-1)),setTimeout((function(){u&&r.bind(window,"hashchange",s.onHashChange)}),40)}},onHashChange:function(){if(In()===En)return Cn=!0,void s.close();bn||(wn=!0,s.goTo(On().pid),wn=!1)},updateURL:function(){Rn(),wn||(An?vn=setTimeout(Dn,800):Dn())}}}),r.extend(s,ie)}})),ms=ps((function(t,e){t.exports=function(t,e){var n,i,r,s,o,a,l,u,c,h,d,p,f,m,g,v,y,x,b=this,w=!1,_=!0,E=!0,A={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},C=function(t){if(v)return!0;t=t||window.event,g.timeToIdle&&g.mouseUsed&&!c&&L();for(var n,i,r=(t.target||t.srcElement).getAttribute("class")||"",s=0;s<q.length;s++)(n=q[s]).onTap&&r.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){t.stopPropagation&&t.stopPropagation(),v=!0;var o=e.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),o)}},M=function(){return!t.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},T=function(t,n,i){e[(i?"add":"remove")+"Class"](t,"pswp__"+n)},F=function(){var t=1===g.getNumItemsFn();t!==m&&(T(i,"ui--one-slide",t),m=t)},S=function(){T(l,"share-modal--hidden",E)},I=function(){return(E=!E)?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){E&&S()}),300)):(S(),setTimeout((function(){E||e.addClass(l,"pswp__share-modal--fade-in")}),30)),E||O(),!1},R=function(e){var n=(e=e||window.event).target||e.srcElement;return t.shout("shareLinkClick",e,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),E||I(),1))},O=function(){for(var t,e,n,i,r="",s=0;s<g.shareButtons.length;s++)t=g.shareButtons[s],e=g.getImageURLForShare(t),n=g.getPageURLForShare(t),i=g.getTextForShare(t),r+='<a href="'+t.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(e)).replace("{{raw_image_url}}",e).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",g.parseShareButtonOut&&(r=g.parseShareButtonOut(t,r));l.children[0].innerHTML=r,l.children[0].onclick=R},D=function(t){for(var n=0;n<g.closeElClasses.length;n++)if(e.hasClass(t,"pswp__"+g.closeElClasses[n]))return!0},P=0,L=function(){clearTimeout(x),P=0,c&&b.setIdle(!1)},N=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(x),x=setTimeout((function(){b.setIdle(!0)}),g.timeToIdleOutside))},k=function(){g.fullscreenEl&&!e.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(e.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs"))},U=function(){g.preloaderEl&&(z(!0),h("beforeChange",(function(){clearTimeout(f),f=setTimeout((function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&z(!1):z(!0)}),g.loadingIndicatorDelay)})),h("imageLoadComplete",(function(e,n){t.currItem===n&&z(!0)})))},z=function(t){p!==t&&(T(d,"preloader--active",!t),p=t)},B=function(t){var n=t.vGap;if(M()){var o=g.barsSize;if(g.captionEl&&"auto"===o.bottom)if(s||((s=e.createEl("pswp__caption pswp__caption--fake")).appendChild(e.createEl("pswp__caption__center")),i.insertBefore(s,r),e.addClass(i,"pswp__ui--fit")),g.addCaptionHTMLFn(t,s,!0)){var a=s.clientHeight;n.bottom=parseInt(a,10)||44}else n.bottom=o.top;else n.bottom="auto"===o.bottom?0:o.bottom;n.top=o.top}else n.top=n.bottom=0},V=function(){g.timeToIdle&&h("mouseUsed",(function(){e.bind(document,"mousemove",L),e.bind(document,"mouseout",N),y=setInterval((function(){2==++P&&b.setIdle(!0)}),g.timeToIdle/2)}))},Z=function(){var t;h("onVerticalDrag",(function(t){_&&t<.95?b.hideControls():!_&&t>=.95&&b.showControls()})),h("onPinchClose",(function(e){_&&e<.9?(b.hideControls(),t=!0):t&&!_&&e>.9&&b.showControls()})),h("zoomGestureEnded",(function(){(t=!1)&&!_&&b.showControls()}))},q=[{name:"caption",option:"captionEl",onInit:function(t){r=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){I()}},{name:"button--share",option:"shareEl",onInit:function(t){a=t},onTap:function(){I()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){o=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){d=t}}],G=function(){var t,n,r,s=function(i){if(i)for(var s=i.length,o=0;o<s;o++){t=i[o],n=t.className;for(var a=0;a<q.length;a++)r=q[a],n.indexOf("pswp__"+r.name)>-1&&(g[r.option]?(e.removeClass(t,"pswp__element--disabled"),r.onInit&&r.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};s(i.children);var o=e.getChildByClass(i,"pswp__top-bar");o&&s(o.children)};b.init=function(){e.extend(t.options,A,!0),g=t.options,i=e.getChildByClass(t.scrollWrap,"pswp__ui"),h=t.listen,Z(),h("beforeChange",b.update),h("doubleTap",(function(e){var n=t.currItem.initialZoomLevel;t.getZoomLevel()!==n?t.zoomTo(n,e,333):t.zoomTo(g.getDoubleTapZoom(!1,t.currItem),e,333)})),h("preventDragEvent",(function(t,e,n){var i=t.target||t.srcElement;i&&i.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)})),h("bindEvents",(function(){e.bind(i,"pswpTap click",C),e.bind(t.scrollWrap,"pswpTap",b.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",b.onMouseOver)})),h("unbindEvents",(function(){E||I(),y&&clearInterval(y),e.unbind(document,"mouseout",N),e.unbind(document,"mousemove",L),e.unbind(i,"pswpTap click",C),e.unbind(t.scrollWrap,"pswpTap",b.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",b.onMouseOver),n&&(e.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)})),h("destroy",(function(){g.captionEl&&(s&&i.removeChild(s),e.removeClass(r,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(i,"pswp__ui--over-close"),e.addClass(i,"pswp__ui--hidden"),b.setIdle(!1)})),g.showAnimationDuration||e.removeClass(i,"pswp__ui--hidden"),h("initialZoomIn",(function(){g.showAnimationDuration&&e.removeClass(i,"pswp__ui--hidden")})),h("initialZoomOut",(function(){e.addClass(i,"pswp__ui--hidden")})),h("parseVerticalMargin",B),G(),g.shareEl&&a&&l&&(E=!0),F(),V(),k(),U()},b.setIdle=function(t){c=t,T(i,"ui--idle",t)},b.update=function(){_&&t.currItem?(b.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(t.currItem,r),T(r,"caption--empty",!t.currItem.title)),w=!0):w=!1,E||I(),F()},b.updateFullscreen=function(i){i&&setTimeout((function(){t.setScrollOffset(0,e.getScrollY())}),50),e[(n.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},b.updateIndexIndicator=function(){g.counterEl&&(o.innerHTML=t.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},b.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(D(i))return void t.close();e.hasClass(i,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?g.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(_?b.hideControls():b.showControls()),g.tapToClose&&(e.hasClass(i,"pswp__img")||D(i)))return void t.close()},b.onMouseOver=function(t){var e=(t=t||window.event).target||t.srcElement;T(i,"ui--over-close",D(e))},b.hideControls=function(){e.addClass(i,"pswp__ui--hidden"),_=!1},b.showControls=function(){_=!0,w||b.update(),e.removeClass(i,"pswp__ui--hidden")},b.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},b.getFullscreenAPI=function(){var e,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(u=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return t.template[this.enterK]();t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return g.closeOnScroll=u,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}));
/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */export{es as C,Dn as F,fr as G,Wr as M,vr as P,Ar as R,ls as S,kr as T,ur as V,jn as a,He as b,Gn as c,wi as d,Lt as e,Nt as f,bi as g,as as h,Vi as i,Yr as j,cs as k,Vr as l,$n as m,ce as n,qe as o,$r as p,Fr as q,Gt as r,Rn as s,fs as t,ms as u,Vt as v,Ke as w,Qi as x};
